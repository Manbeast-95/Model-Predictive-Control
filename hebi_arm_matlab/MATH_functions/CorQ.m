[(1/2).*theta3dot.*((-1).*cos(theta2+(-1).*theta3).*(Ixz3.*cos(theta2+( ...
  -1).*theta3)+Ixx3.*sin(theta2+(-1).*theta3))+sin(theta2+(-1).*theta3).*( ...
  (-1).*Ixx3.*cos(theta2+(-1).*theta3)+Ixz3.*sin(theta2+(-1).*theta3))+ ...
  sin(theta2+(-1).*theta3).*(Izz3.*cos(theta2+(-1).*theta3)+Ixz3.*sin( ...
  theta2+(-1).*theta3))+cos(theta2+(-1).*theta3).*((-1).*Ixz3.*cos(theta2+ ...
  (-1).*theta3)+Izz3.*sin(theta2+(-1).*theta3))+2.*m3.*((COM3z+(-1).*L1+ ...
  z0+z2).*cos(theta2+(-1).*theta3)+COM3x.*sin(theta2+(-1).*theta3)).*( ...
  COM3x.*cos(theta2+(-1).*theta3)+(-1).*L1.*sin(theta2)+(-1).*(COM3z+(-1) ...
  .*L1+z0+z2).*sin(theta2+(-1).*theta3))+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+Ixx4.*sin(theta2+(-1).* ...
  theta3+theta4))+sin(theta2+(-1).*theta3+theta4).*((-1).*Ixx4.*cos( ...
  theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+(-1).*theta3+theta4))+sin( ...
  theta2+(-1).*theta3+theta4).*(Izz4.*cos(theta2+(-1).*theta3+theta4)+ ...
  Ixz4.*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).* ...
  ((-1).*Ixz4.*cos(theta2+(-1).*theta3+theta4)+Izz4.*sin(theta2+(-1).* ...
  theta3+theta4))+2.*m4.*(L1.*cos(theta2+(-1).*theta3)+COM4z.*cos(theta2+( ...
  -1).*theta3+theta4)+(-2).*L1.*cos(theta2+(-1).*theta3+theta4)+z0.*cos( ...
  theta2+(-1).*theta3+theta4)+z2.*cos(theta2+(-1).*theta3+theta4)+z3.*cos( ...
  theta2+(-1).*theta3+theta4)+COM4x.*sin(theta2+(-1).*theta3+theta4)).*( ...
  COM4x.*cos(theta2+(-1).*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.* ...
  sin(theta2+(-1).*theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+ ...
  2.*L1.*sin(theta2+(-1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*z2.*sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin( ...
  theta2+(-1).*theta3+theta4))+(-2).*m5.*cos(theta2+(-1).*theta3+theta4).* ...
  sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).^2+cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(( ...
  -1).*Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin( ...
  theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).* ...
  Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+ ...
  cos(theta2+(-1).*theta3+theta4).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos( ...
  theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5).*(Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+2.*m5.*((-1).*cos( ...
  theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5))).*((-1).*((-1).*L1.*cos(theta2+(-1).* ...
  theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+2.*m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+ ...
  sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+ ...
  y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*theta4dot.*((-1).*cos(theta2+(-1).*theta3).*(Ixz3.*cos( ...
  theta2+(-1).*theta3)+Ixx3.*sin(theta2+(-1).*theta3))+sin(theta2+(-1).* ...
  theta3).*((-1).*Ixx3.*cos(theta2+(-1).*theta3)+Ixz3.*sin(theta2+(-1).* ...
  theta3))+sin(theta2+(-1).*theta3).*(Izz3.*cos(theta2+(-1).*theta3)+ ...
  Ixz3.*sin(theta2+(-1).*theta3))+cos(theta2+(-1).*theta3).*((-1).*Ixz3.* ...
  cos(theta2+(-1).*theta3)+Izz3.*sin(theta2+(-1).*theta3))+2.*m3.*((COM3z+ ...
  (-1).*L1+z0+z2).*cos(theta2+(-1).*theta3)+COM3x.*sin(theta2+(-1).* ...
  theta3)).*(COM3x.*cos(theta2+(-1).*theta3)+(-1).*L1.*sin(theta2)+(-1).*( ...
  COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3))+(-1).*cos(theta2+(-1).* ...
  theta3+theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+Ixx4.*sin(theta2+ ...
  (-1).*theta3+theta4))+sin(theta2+(-1).*theta3+theta4).*((-1).*Ixx4.*cos( ...
  theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+(-1).*theta3+theta4))+sin( ...
  theta2+(-1).*theta3+theta4).*(Izz4.*cos(theta2+(-1).*theta3+theta4)+ ...
  Ixz4.*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).* ...
  ((-1).*Ixz4.*cos(theta2+(-1).*theta3+theta4)+Izz4.*sin(theta2+(-1).* ...
  theta3+theta4))+2.*m4.*(L1.*cos(theta2+(-1).*theta3)+COM4z.*cos(theta2+( ...
  -1).*theta3+theta4)+(-2).*L1.*cos(theta2+(-1).*theta3+theta4)+z0.*cos( ...
  theta2+(-1).*theta3+theta4)+z2.*cos(theta2+(-1).*theta3+theta4)+z3.*cos( ...
  theta2+(-1).*theta3+theta4)+COM4x.*sin(theta2+(-1).*theta3+theta4)).*( ...
  COM4x.*cos(theta2+(-1).*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.* ...
  sin(theta2+(-1).*theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+ ...
  2.*L1.*sin(theta2+(-1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*z2.*sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin( ...
  theta2+(-1).*theta3+theta4))+(-2).*m5.*cos(theta2+(-1).*theta3+theta4).* ...
  sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).^2+cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(( ...
  -1).*Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin( ...
  theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).* ...
  Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+ ...
  cos(theta2+(-1).*theta3+theta4).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos( ...
  theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5).*(Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+2.*m5.*((-1).*cos( ...
  theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5))).*((-1).*((-1).*L1.*cos(theta2+(-1).* ...
  theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+2.*m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+ ...
  sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+ ...
  y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*theta5dot.*(cos(theta2+(-1).*theta3+theta4).*(Ixz4.*cos( ...
  theta2+(-1).*theta3+theta4)+Ixx4.*sin(theta2+(-1).*theta3+theta4))+sin( ...
  theta2+(-1).*theta3+theta4).*(Ixx4.*cos(theta2+(-1).*theta3+theta4)+(-1) ...
  .*Ixz4.*sin(theta2+(-1).*theta3+theta4))+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(Izz4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+(-1).* ...
  theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(Ixz4.*cos(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Izz4.*sin(theta2+(-1).*theta3+theta4))+2.*m4.*(( ...
  -1).*COM4z.*cos(theta2+(-1).*theta3+theta4)+2.*L1.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*z0.*cos(theta2+(-1).*theta3+theta4)+(-1).*z2.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*z3.*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*COM4x.*sin(theta2+(-1).*theta3+theta4)).*(COM4x.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.*sin(theta2+(-1).*theta3)+ ...
  (-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+2.*L1.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*z0.*sin(theta2+(-1).*theta3+theta4)+(-1).*z2.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*z3.*sin(theta2+(-1).*theta3+theta4))+ ...
  2.*m5.*cos(theta2+(-1).*theta3+theta4).*sin(theta2+(-1).*theta3+theta4) ...
  .*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).^2+cos(theta5).* ...
  sin(theta2+(-1).*theta3+theta4).*(Ixx5.*cos(theta2+(-1).*theta3+theta4) ...
  .*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*sin(theta5).*(Ixy5.*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+ ...
  theta4).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  Izz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*( ...
  Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+2.*m5.*((-1).*cos( ...
  theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5))).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5)))+2.*m5.*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+ ...
  y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).* ...
  theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).* ...
  theta2dot.*(cos(theta2).*(Ixz2.*cos(theta2)+Ixx2.*sin(theta2))+sin( ...
  theta2).*(Ixx2.*cos(theta2)+(-1).*Ixz2.*sin(theta2))+(-1).*sin(theta2).* ...
  (Izz2.*cos(theta2)+Ixz2.*sin(theta2))+cos(theta2).*(Ixz2.*cos(theta2)+( ...
  -1).*Izz2.*sin(theta2))+2.*m2.*((-1).*(COM2z+z0).*cos(theta2)+(-1).* ...
  COM2x.*sin(theta2)).*(COM2x.*cos(theta2)+(-1).*(COM2z+z0).*sin(theta2))+ ...
  cos(theta2+(-1).*theta3).*(Ixz3.*cos(theta2+(-1).*theta3)+Ixx3.*sin( ...
  theta2+(-1).*theta3))+sin(theta2+(-1).*theta3).*(Ixx3.*cos(theta2+(-1).* ...
  theta3)+(-1).*Ixz3.*sin(theta2+(-1).*theta3))+(-1).*sin(theta2+(-1).* ...
  theta3).*(Izz3.*cos(theta2+(-1).*theta3)+Ixz3.*sin(theta2+(-1).*theta3)) ...
  +cos(theta2+(-1).*theta3).*(Ixz3.*cos(theta2+(-1).*theta3)+(-1).*Izz3.* ...
  sin(theta2+(-1).*theta3))+2.*m3.*((-1).*L1.*cos(theta2)+(-1).*(COM3z+( ...
  -1).*L1+z0+z2).*cos(theta2+(-1).*theta3)+(-1).*COM3x.*sin(theta2+(-1).* ...
  theta3)).*(COM3x.*cos(theta2+(-1).*theta3)+(-1).*L1.*sin(theta2)+(-1).*( ...
  COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3))+cos(theta2+(-1).* ...
  theta3+theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+Ixx4.*sin(theta2+ ...
  (-1).*theta3+theta4))+sin(theta2+(-1).*theta3+theta4).*(Ixx4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixz4.*sin(theta2+(-1).*theta3+theta4)) ...
  +(-1).*sin(theta2+(-1).*theta3+theta4).*(Izz4.*cos(theta2+(-1).*theta3+ ...
  theta4)+Ixz4.*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+ ...
  theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+(-1).*Izz4.*sin(theta2+( ...
  -1).*theta3+theta4))+2.*m4.*((-1).*L1.*cos(theta2)+(-1).*L1.*cos(theta2+ ...
  (-1).*theta3)+(-1).*COM4z.*cos(theta2+(-1).*theta3+theta4)+2.*L1.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*z0.*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*z2.*cos(theta2+(-1).*theta3+theta4)+(-1).*z3.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*COM4x.*sin(theta2+(-1).*theta3+theta4)).*(COM4x.* ...
  cos(theta2+(-1).*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.*sin( ...
  theta2+(-1).*theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+2.* ...
  L1.*sin(theta2+(-1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*z2.*sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin(theta2+( ...
  -1).*theta3+theta4))+2.*m5.*cos(theta2+(-1).*theta3+theta4).*sin(theta2+ ...
  (-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5)).^2+cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(Ixx5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +(-1).*sin(theta2+(-1).*theta3+theta4).*sin(theta5).*(Ixy5.*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+cos( ...
  theta2+(-1).*theta3+theta4).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*Izz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos( ...
  theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5).*(Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+ ...
  (-1).*theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+ ...
  (-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+2.*m5.*((-1).* ...
  cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5))).*((-1).*(L1.*cos(theta2)+L1.* ...
  cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+2.*m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).* ...
  sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+theta1dot.*(2.*m1.*((-1).*cos(theta1).*(COM1x.*cos(theta1)+(-1).* ...
  COM1y.*sin(theta1))+(-1).*cos(theta1).*((-1).*COM1x.*cos(theta1)+COM1y.* ...
  sin(theta1))).*((-1).*cos(theta1).*(COM1y.*cos(theta1)+COM1x.*sin( ...
  theta1))+(-1).*sin(theta1).*((-1).*COM1x.*cos(theta1)+COM1y.*sin(theta1) ...
  ))+2.*m1.*(sin(theta1).*(COM1y.*cos(theta1)+COM1x.*sin(theta1))+(-1).* ...
  cos(theta1).*((-1).*COM1x.*cos(theta1)+COM1y.*sin(theta1))).*(sin( ...
  theta1).*(COM1x.*cos(theta1)+(-1).*COM1y.*sin(theta1))+sin(theta1).*(( ...
  -1).*COM1x.*cos(theta1)+COM1y.*sin(theta1)))+2.*m5.*((-1).*(cos(theta1) ...
  .*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+cos( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))+(-1).*((-1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin( ...
  theta1)+(-1).*cos(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))).*((-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5) ...
  .*sin(theta1)+cos(theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+(1/2).*((-2).*m1.*((-1).*cos(theta1).*( ...
  COM1x.*cos(theta1)+(-1).*COM1y.*sin(theta1))+(-1).*cos(theta1).*((-1).* ...
  COM1x.*cos(theta1)+COM1y.*sin(theta1))).*((-1).*cos(theta1).*(COM1y.* ...
  cos(theta1)+COM1x.*sin(theta1))+(-1).*sin(theta1).*((-1).*COM1x.*cos( ...
  theta1)+COM1y.*sin(theta1)))+(-2).*m1.*(sin(theta1).*(COM1y.*cos(theta1) ...
  +COM1x.*sin(theta1))+(-1).*cos(theta1).*((-1).*COM1x.*cos(theta1)+ ...
  COM1y.*sin(theta1))).*(sin(theta1).*(COM1x.*cos(theta1)+(-1).*COM1y.* ...
  sin(theta1))+sin(theta1).*((-1).*COM1x.*cos(theta1)+COM1y.*sin(theta1))) ...
  +(-2).*m5.*((-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*((-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+(-1).*cos(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))+(-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),theta2dot.* ...
  ((-1).*Ixy2.*cos(theta2)+COM2x.*m2.*(COM2y+y1).*cos(theta2)+(-1).*Ixy3.* ...
  cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+ ...
  Iyz2.*sin(theta2)+m2.*(COM2y+y1).*((-1).*COM2z+(-1).*z0).*sin(theta2)+ ...
  Iyz3.*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*((-1).*COM3z+L1+(-1).* ...
  z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+m3.*(COM3y+ ...
  y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin(theta3))+m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*(COM4x+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+Iyz4.*sin(theta2+(-1).*theta3+ ...
  theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1) ...
  .*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin( ...
  theta2+(-1).*theta3+theta4)+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin( ...
  theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+(-1).*sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos( ...
  theta4)).*sin(theta5).*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).* ...
  cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(( ...
  -1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).* ...
  sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).* ...
  theta1dot.*(cos(theta2).*(Ixz2.*cos(theta2)+Ixx2.*sin(theta2))+sin( ...
  theta2).*(Ixx2.*cos(theta2)+(-1).*Ixz2.*sin(theta2))+(-1).*sin(theta2).* ...
  (Izz2.*cos(theta2)+Ixz2.*sin(theta2))+cos(theta2).*(Ixz2.*cos(theta2)+( ...
  -1).*Izz2.*sin(theta2))+2.*m2.*((-1).*(COM2z+z0).*cos(theta2)+(-1).* ...
  COM2x.*sin(theta2)).*(COM2x.*cos(theta2)+(-1).*(COM2z+z0).*sin(theta2))+ ...
  cos(theta2+(-1).*theta3).*(Ixz3.*cos(theta2+(-1).*theta3)+Ixx3.*sin( ...
  theta2+(-1).*theta3))+sin(theta2+(-1).*theta3).*(Ixx3.*cos(theta2+(-1).* ...
  theta3)+(-1).*Ixz3.*sin(theta2+(-1).*theta3))+(-1).*sin(theta2+(-1).* ...
  theta3).*(Izz3.*cos(theta2+(-1).*theta3)+Ixz3.*sin(theta2+(-1).*theta3)) ...
  +cos(theta2+(-1).*theta3).*(Ixz3.*cos(theta2+(-1).*theta3)+(-1).*Izz3.* ...
  sin(theta2+(-1).*theta3))+2.*m3.*((-1).*L1.*cos(theta2)+(-1).*(COM3z+( ...
  -1).*L1+z0+z2).*cos(theta2+(-1).*theta3)+(-1).*COM3x.*sin(theta2+(-1).* ...
  theta3)).*(COM3x.*cos(theta2+(-1).*theta3)+(-1).*L1.*sin(theta2)+(-1).*( ...
  COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3))+cos(theta2+(-1).* ...
  theta3+theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+Ixx4.*sin(theta2+ ...
  (-1).*theta3+theta4))+sin(theta2+(-1).*theta3+theta4).*(Ixx4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixz4.*sin(theta2+(-1).*theta3+theta4)) ...
  +(-1).*sin(theta2+(-1).*theta3+theta4).*(Izz4.*cos(theta2+(-1).*theta3+ ...
  theta4)+Ixz4.*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+ ...
  theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+(-1).*Izz4.*sin(theta2+( ...
  -1).*theta3+theta4))+2.*m4.*((-1).*L1.*cos(theta2)+(-1).*L1.*cos(theta2+ ...
  (-1).*theta3)+(-1).*COM4z.*cos(theta2+(-1).*theta3+theta4)+2.*L1.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*z0.*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*z2.*cos(theta2+(-1).*theta3+theta4)+(-1).*z3.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*COM4x.*sin(theta2+(-1).*theta3+theta4)).*(COM4x.* ...
  cos(theta2+(-1).*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.*sin( ...
  theta2+(-1).*theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+2.* ...
  L1.*sin(theta2+(-1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*z2.*sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin(theta2+( ...
  -1).*theta3+theta4))+2.*m5.*cos(theta2+(-1).*theta3+theta4).*sin(theta2+ ...
  (-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5)).^2+cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(Ixx5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +(-1).*sin(theta2+(-1).*theta3+theta4).*sin(theta5).*(Ixy5.*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+cos( ...
  theta2+(-1).*theta3+theta4).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*Izz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos( ...
  theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5).*(Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+ ...
  (-1).*theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+ ...
  (-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+2.*m5.*((-1).* ...
  cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5))).*((-1).*(L1.*cos(theta2)+L1.* ...
  cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+2.*m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).* ...
  sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+theta4dot.*((1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+ ...
  COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+Iyz4.*sin( ...
  theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+( ...
  -1).*z0+(-1).*z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+m5.*cos( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+( ...
  -1).*sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+( ...
  -1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*(Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4)+ ...
  (-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*(L1.*cos(theta2)+L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*(Ixy3.*cos(theta2+(-1).*theta3) ...
  +Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).* ...
  theta3)+(-1).*L1.*m3.*(COM3y+y1+y2).*cos(theta3).*sin(theta2+(-1).* ...
  theta3)+(-1).*m3.*(COM3y+y1+y2).*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1) ...
  .*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+(-1).*L1.*m3.*(COM3y+y1+y2) ...
  .*cos(theta2+(-1).*theta3).*sin(theta3)+(-1).*m3.*(COM3y+y1+y2).*cos( ...
  theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin(theta3))+(-1).*L1.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta3+(-1).* ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*( ...
  COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*Iyz4.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+ ...
  y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos( ...
  theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+(-1).*sin(theta5).*((-1).* ...
  Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+( ...
  -1).*cos(theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*L1.*m5.*sin(theta3+(-1).*theta4).* ...
  sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+ ...
  cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+( ...
  -1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+L1.*m5.*cos( ...
  theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+theta3dot.* ...
  ((1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+(-1).*COM3x.*m3.*(COM3y+y1+y2).* ...
  cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz3.*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*(COM3z+(-1).*L1+z0+z2) ...
  .*sin(theta2+(-1).*theta3)+m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+(-1).*Iyz4.*sin( ...
  theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+ ...
  z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+m5.*cos(theta2+(-1) ...
  .*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)) ...
  .*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin( ...
  theta5))+sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5).*(( ...
  -1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+ ...
  (-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).* ...
  sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*( ...
  Ixy3.*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*Iyz3.*sin(theta2+(-1).*theta3)+(-1).*L1.*m3.*(COM3y+y1+y2).*cos( ...
  theta3).*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*((-1).*COM3z+ ...
  L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+( ...
  -1).*L1.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*sin(theta3)+(-1).* ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin( ...
  theta3))+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4) ...
  .*sin(theta3+(-1).*theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin( ...
  theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).* ...
  z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).* ...
  sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin( ...
  theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+(-1).*sin(theta5).*((-1).*Ixx5.*cos(theta2+(-1).*theta3+theta4) ...
  .*cos(theta5)+Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+( ...
  -1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*((-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*L1.* ...
  m5.*sin(theta3+(-1).*theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin( ...
  theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+ ...
  y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1) ...
  .*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )))+L1.*m5.*cos(theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+( ...
  -1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+theta5dot.* ...
  ((1/2).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5)+COM5x.*m5.*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+( ...
  -1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.* ...
  sin(theta5)))+m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1) ...
  .*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+ ...
  y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+ ...
  theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+ ...
  Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).* ...
  COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).* ...
  theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+m4.*( ...
  COM4y+y1+y2+y3).*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta2+(-1).*theta3+theta4)+m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos( ...
  theta4)).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin( ...
  theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+(-1).*sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +m5.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).* ...
  ((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.* ...
  sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1) ...
  .*theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1) ...
  .*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(( ...
  -1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1) ...
  .*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+ ...
  y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+(-1).*m5.*cos(theta5).*(L1.*sin(theta3+ ...
  (-1).*theta4)+(-1).*L1.*sin(theta4)).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),theta3dot.* ...
  ((-1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.*m3.*(COM3y+y1+y2).*cos( ...
  theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+Iyz3.* ...
  sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*(COM3z+(-1).*L1+z0+z2) ...
  .*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+Iyz4.*sin(theta2+( ...
  -1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+ ...
  z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).*m5.*cos( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+ ...
  y2+y3).*sin(theta5))+sin(theta5).*((-1).*Ixx5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta5).*((-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5).*((-1).*((-1).* ...
  L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*theta1dot.*((-1).*cos(theta2+(-1).*theta3).*(Ixz3.*cos(theta2+(-1) ...
  .*theta3)+Ixx3.*sin(theta2+(-1).*theta3))+sin(theta2+(-1).*theta3).*(( ...
  -1).*Ixx3.*cos(theta2+(-1).*theta3)+Ixz3.*sin(theta2+(-1).*theta3))+sin( ...
  theta2+(-1).*theta3).*(Izz3.*cos(theta2+(-1).*theta3)+Ixz3.*sin(theta2+( ...
  -1).*theta3))+cos(theta2+(-1).*theta3).*((-1).*Ixz3.*cos(theta2+(-1).* ...
  theta3)+Izz3.*sin(theta2+(-1).*theta3))+2.*m3.*((COM3z+(-1).*L1+z0+z2).* ...
  cos(theta2+(-1).*theta3)+COM3x.*sin(theta2+(-1).*theta3)).*(COM3x.*cos( ...
  theta2+(-1).*theta3)+(-1).*L1.*sin(theta2)+(-1).*(COM3z+(-1).*L1+z0+z2) ...
  .*sin(theta2+(-1).*theta3))+(-1).*cos(theta2+(-1).*theta3+theta4).*( ...
  Ixz4.*cos(theta2+(-1).*theta3+theta4)+Ixx4.*sin(theta2+(-1).*theta3+ ...
  theta4))+sin(theta2+(-1).*theta3+theta4).*((-1).*Ixx4.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixz4.*sin(theta2+(-1).*theta3+theta4))+sin(theta2+(-1).* ...
  theta3+theta4).*(Izz4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+ ...
  (-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*((-1).*Ixz4.*cos( ...
  theta2+(-1).*theta3+theta4)+Izz4.*sin(theta2+(-1).*theta3+theta4))+2.* ...
  m4.*(L1.*cos(theta2+(-1).*theta3)+COM4z.*cos(theta2+(-1).*theta3+theta4) ...
  +(-2).*L1.*cos(theta2+(-1).*theta3+theta4)+z0.*cos(theta2+(-1).*theta3+ ...
  theta4)+z2.*cos(theta2+(-1).*theta3+theta4)+z3.*cos(theta2+(-1).*theta3+ ...
  theta4)+COM4x.*sin(theta2+(-1).*theta3+theta4)).*(COM4x.*cos(theta2+(-1) ...
  .*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.*sin(theta2+(-1).* ...
  theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+2.*L1.*sin(theta2+( ...
  -1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).*theta3+theta4)+(-1).*z2.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin(theta2+(-1).*theta3+ ...
  theta4))+(-2).*m5.*cos(theta2+(-1).*theta3+theta4).*sin(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)) ...
  .^2+cos(theta5).*sin(theta2+(-1).*theta3+theta4).*((-1).*Ixx5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+ ...
  theta4).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+ ...
  Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5) ...
  .*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(Iyz5.*cos( ...
  theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+sin( ...
  theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+(-1).*theta3+theta4)+ ...
  Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*sin( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+2.*m5.*((-1).*cos(theta5).*( ...
  L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5))).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+2.* ...
  m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin( ...
  theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1) ...
  .*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+theta4dot.*( ...
  (1/2).*(Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+ ...
  y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+( ...
  -1).*z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+(-1).*m5.*cos(theta2+ ...
  (-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1) ...
  .*sin(theta5).*((-1).*Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5) ...
  +Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5))+(-1).*cos(theta5).*((-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*((-1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.* ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1) ...
  .*theta3+theta4)+Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2) ...
  .*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+ ...
  y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin( ...
  theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+ ...
  y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3) ...
  .*cos(theta5)+COM5x.*sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.* ...
  sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))+sin(theta5).*((-1).*Ixx5.* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).* ...
  theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+cos( ...
  theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+ ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta4)).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).* ...
  (cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4) ...
  .*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))))))+theta2dot.*((1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+( ...
  -1).*COM3x.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+m3.*( ...
  COM3y+y1+y2).*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).* ...
  L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+ ...
  y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).* ...
  theta3+theta4)+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3) ...
  .*cos(theta5)+COM5x.*sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.* ...
  sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))+sin(theta5).*(Ixx5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +cos(theta5).*(Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta4)).*sin(theta5).*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).* ...
  cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5) ...
  .*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin( ...
  theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+( ...
  -1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*(Ixy3.*cos(theta2+(-1).*theta3) ...
  +Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).* ...
  theta3)+(-1).*L1.*m3.*(COM3y+y1+y2).*cos(theta3).*sin(theta2+(-1).* ...
  theta3)+(-1).*m3.*(COM3y+y1+y2).*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1) ...
  .*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+(-1).*L1.*m3.*(COM3y+y1+y2) ...
  .*cos(theta2+(-1).*theta3).*sin(theta3)+(-1).*m3.*(COM3y+y1+y2).*cos( ...
  theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin(theta3))+(-1).*L1.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta3+(-1).* ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*( ...
  COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*Iyz4.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+ ...
  y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos( ...
  theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+(-1).*sin(theta5).*((-1).* ...
  Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+( ...
  -1).*cos(theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*L1.*m5.*sin(theta3+(-1).*theta4).* ...
  sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+ ...
  cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+( ...
  -1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+L1.*m5.*cos( ...
  theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+theta5dot.* ...
  ((1/2).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Izz5.* ...
  sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).*theta3+theta4).* ...
  sin(theta5)+COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(( ...
  -1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*(Ixy4.*cos(theta2+(-1).*theta3+theta4)+L1.*m4.*(COM4y+y1+y2+ ...
  y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta4)+m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+( ...
  -1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m4.*(COM4y+y1+y2+ ...
  y3).*cos(theta4).*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).* ...
  (COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*L1.*m5.*cos(theta4).*sin(theta2+(-1).*theta3+theta4).*(y4+ ...
  (COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  (-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin( ...
  theta5))+sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +L1.*m5.*sin(theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+ ...
  L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.* ...
  sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+( ...
  -1).*L1.*m5.*cos(theta5).*sin(theta4).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),theta4dot.* ...
  (Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+y1+y2+y3) ...
  .*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).* ...
  z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+(-1).*m5.*cos(theta2+(-1) ...
  .*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*sin( ...
  theta5).*((-1).*Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+ ...
  Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5))+(-1).*cos(theta5).*((-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*theta1dot.*((-1).*cos(theta2+(-1).*theta3).*( ...
  Ixz3.*cos(theta2+(-1).*theta3)+Ixx3.*sin(theta2+(-1).*theta3))+sin( ...
  theta2+(-1).*theta3).*((-1).*Ixx3.*cos(theta2+(-1).*theta3)+Ixz3.*sin( ...
  theta2+(-1).*theta3))+sin(theta2+(-1).*theta3).*(Izz3.*cos(theta2+(-1).* ...
  theta3)+Ixz3.*sin(theta2+(-1).*theta3))+cos(theta2+(-1).*theta3).*((-1) ...
  .*Ixz3.*cos(theta2+(-1).*theta3)+Izz3.*sin(theta2+(-1).*theta3))+2.*m3.* ...
  ((COM3z+(-1).*L1+z0+z2).*cos(theta2+(-1).*theta3)+COM3x.*sin(theta2+(-1) ...
  .*theta3)).*(COM3x.*cos(theta2+(-1).*theta3)+(-1).*L1.*sin(theta2)+(-1) ...
  .*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3))+(-1).*cos(theta2+( ...
  -1).*theta3+theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+Ixx4.*sin( ...
  theta2+(-1).*theta3+theta4))+sin(theta2+(-1).*theta3+theta4).*((-1).* ...
  Ixx4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+(-1).*theta3+ ...
  theta4))+sin(theta2+(-1).*theta3+theta4).*(Izz4.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixz4.*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*((-1).*Ixz4.*cos(theta2+(-1).*theta3+theta4)+Izz4.*sin( ...
  theta2+(-1).*theta3+theta4))+2.*m4.*(L1.*cos(theta2+(-1).*theta3)+ ...
  COM4z.*cos(theta2+(-1).*theta3+theta4)+(-2).*L1.*cos(theta2+(-1).* ...
  theta3+theta4)+z0.*cos(theta2+(-1).*theta3+theta4)+z2.*cos(theta2+(-1).* ...
  theta3+theta4)+z3.*cos(theta2+(-1).*theta3+theta4)+COM4x.*sin(theta2+( ...
  -1).*theta3+theta4)).*(COM4x.*cos(theta2+(-1).*theta3+theta4)+(-1).*L1.* ...
  sin(theta2)+(-1).*L1.*sin(theta2+(-1).*theta3)+(-1).*COM4z.*sin(theta2+( ...
  -1).*theta3+theta4)+2.*L1.*sin(theta2+(-1).*theta3+theta4)+(-1).*z0.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*z2.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*z3.*sin(theta2+(-1).*theta3+theta4))+(-2).*m5.*cos(theta2+ ...
  (-1).*theta3+theta4).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5)).^2+cos(theta5).*sin(theta2+(-1).* ...
  theta3+theta4).*((-1).*Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*sin( ...
  theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+ ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*((-1).*Ixz5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+Izz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+Iyz5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixz5.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixx5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Ixy5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5).*(Iyz5.*cos(theta2+(-1).*theta3+theta4)+ ...
  Ixy5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*sin( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+sin(theta2+(-1).*theta3+ ...
  theta4).*(Izz5.*cos(theta2+(-1).*theta3+theta4)+Ixz5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+2.*m5.*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).* ...
  theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)) ...
  ).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1) ...
  .*theta3+theta4).*(COM5x+y4.*sin(theta5)))+2.*m5.*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))).*((-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5) ...
  .*sin(theta1)+cos(theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))+theta3dot.*((1/2).*(Ixy4.*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*( ...
  COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*sin(theta5).*((-1).* ...
  Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+( ...
  -1).*cos(theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*((-1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.*m3.*(COM3y+y1+ ...
  y2).*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+ ...
  theta4)+Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*(COM3z+( ...
  -1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+ ...
  Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*( ...
  COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3) ...
  .*cos(theta5)+COM5x.*sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.* ...
  sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))+sin(theta5).*((-1).*Ixx5.* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).* ...
  theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+cos( ...
  theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+ ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta4)).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).* ...
  (cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4) ...
  .*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))))))+theta5dot.*((1/2).*((-1).*Ixz5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5)+COM5x.*m5.*((-1).*((-1).* ...
  L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+( ...
  -1).*y3).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+( ...
  -1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1) ...
  .*Ixy4.*cos(theta2+(-1).*theta3+theta4)+COM4x.*m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4)+Iyz4.*sin(theta2+(-1).*theta3+theta4)+ ...
  m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).* ...
  sin(theta2+(-1).*theta3+theta4)+m5.*cos(theta2+(-1).*theta3+theta4).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*sin(theta5).*(Ixx5.* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+(-1).*cos(theta5).*(Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+ ...
  theta2dot.*((1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+COM4x.* ...
  m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+Iyz4.*sin(theta2+( ...
  -1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+( ...
  -1).*z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*sin( ...
  theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*(Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4)+ ...
  (-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*(L1.*cos(theta2)+L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*(Ixy3.*cos(theta2+(-1).*theta3) ...
  +Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).* ...
  theta3)+(-1).*L1.*m3.*(COM3y+y1+y2).*cos(theta3).*sin(theta2+(-1).* ...
  theta3)+(-1).*m3.*(COM3y+y1+y2).*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1) ...
  .*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+(-1).*L1.*m3.*(COM3y+y1+y2) ...
  .*cos(theta2+(-1).*theta3).*sin(theta3)+(-1).*m3.*(COM3y+y1+y2).*cos( ...
  theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin(theta3))+(-1).*L1.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta3+(-1).* ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*( ...
  COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*Iyz4.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+ ...
  y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos( ...
  theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+(-1).*sin(theta5).*((-1).* ...
  Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+( ...
  -1).*cos(theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*L1.*m5.*sin(theta3+(-1).*theta4).* ...
  sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+ ...
  cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+( ...
  -1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+L1.*m5.*cos( ...
  theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),theta5dot.* ...
  (Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5)+COM5x.*m5.*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+( ...
  -1).*y3).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*theta1dot.*(cos(theta2+(-1).*theta3+theta4).*(Ixz4.*cos(theta2+( ...
  -1).*theta3+theta4)+Ixx4.*sin(theta2+(-1).*theta3+theta4))+sin(theta2+( ...
  -1).*theta3+theta4).*(Ixx4.*cos(theta2+(-1).*theta3+theta4)+(-1).*Ixz4.* ...
  sin(theta2+(-1).*theta3+theta4))+(-1).*sin(theta2+(-1).*theta3+theta4).* ...
  (Izz4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+(-1).*theta3+ ...
  theta4))+cos(theta2+(-1).*theta3+theta4).*(Ixz4.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*Izz4.*sin(theta2+(-1).*theta3+theta4))+2.*m4.*((-1) ...
  .*COM4z.*cos(theta2+(-1).*theta3+theta4)+2.*L1.*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*z0.*cos(theta2+(-1).*theta3+theta4)+(-1).*z2.*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*z3.*cos(theta2+(-1).*theta3+theta4)+(-1).* ...
  COM4x.*sin(theta2+(-1).*theta3+theta4)).*(COM4x.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.*sin(theta2+(-1).*theta3)+ ...
  (-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+2.*L1.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*z0.*sin(theta2+(-1).*theta3+theta4)+(-1).*z2.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*z3.*sin(theta2+(-1).*theta3+theta4))+ ...
  2.*m5.*cos(theta2+(-1).*theta3+theta4).*sin(theta2+(-1).*theta3+theta4) ...
  .*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).^2+cos(theta5).* ...
  sin(theta2+(-1).*theta3+theta4).*(Ixx5.*cos(theta2+(-1).*theta3+theta4) ...
  .*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*sin(theta5).*(Ixy5.*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+ ...
  theta4).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  Izz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*( ...
  Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+2.*m5.*((-1).*cos( ...
  theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5))).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5)))+2.*m5.*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+ ...
  y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).* ...
  theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+theta4dot.*( ...
  (1/2).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Izz5.* ...
  sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).*theta3+theta4).* ...
  sin(theta5)+COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(( ...
  -1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+COM4x.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+Iyz4.*sin(theta2+(-1).* ...
  theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).* ...
  z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*sin( ...
  theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*(Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4)+ ...
  (-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+ ...
  theta3dot.*((1/2).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5)+COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1) ...
  .*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*( ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4) ...
  .*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*(Ixy4.*cos(theta2+(-1).*theta3+theta4)+L1.* ...
  m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta4)+m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).* ...
  L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*L1.* ...
  m4.*(COM4y+y1+y2+y3).*cos(theta4).*sin(theta2+(-1).*theta3+theta4)+m4.*( ...
  COM4y+y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+( ...
  -1).*theta3+theta4)+(-1).*L1.*m5.*cos(theta4).*sin(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+m5.*cos( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+ ...
  y2+y3).*sin(theta5))+sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4) ...
  .*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +L1.*m5.*sin(theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+ ...
  L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.* ...
  sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+( ...
  -1).*L1.*m5.*cos(theta5).*sin(theta4).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+theta2dot.* ...
  ((1/2).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5)+COM5x.*m5.*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+( ...
  -1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.* ...
  sin(theta5)))+m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1) ...
  .*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+ ...
  y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+ ...
  theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+ ...
  Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).* ...
  COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).* ...
  theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+m4.*( ...
  COM4y+y1+y2+y3).*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta2+(-1).*theta3+theta4)+m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos( ...
  theta4)).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin( ...
  theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+(-1).*sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +m5.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).* ...
  ((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.* ...
  sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1) ...
  .*theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1) ...
  .*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(( ...
  -1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1) ...
  .*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+ ...
  y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+(-1).*m5.*cos(theta5).*(L1.*sin(theta3+ ...
  (-1).*theta4)+(-1).*L1.*sin(theta4)).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))));theta2dot.* ...
  ((1/2).*((-1).*Ixy2.*cos(theta2)+COM2x.*m2.*(COM2y+y1).*cos(theta2)+(-1) ...
  .*Ixy3.*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+ ...
  theta4)+Iyz2.*sin(theta2)+m2.*(COM2y+y1).*((-1).*COM2z+(-1).*z0).*sin( ...
  theta2)+Iyz3.*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*((-1).*COM3z+ ...
  L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+ ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin( ...
  theta3))+m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*(COM4x+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+Iyz4.*sin(theta2+(-1) ...
  .*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1) ...
  .*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)) ...
  .*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+(-1).*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1) ...
  .*Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*((-1).* ...
  Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).* ...
  COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).* ...
  y3.*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*sin(theta5).*((-1).*(L1.*cos(theta2)+L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*(Ixy2.*cos(theta2)+(-1).*COM2x.*m2.*(COM2y+y1).*cos(theta2)+Ixy3.* ...
  cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz2.*sin(theta2)+(-1).*m2.*(COM2y+y1).*((-1).*COM2z+(-1).*z0).*sin( ...
  theta2)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*(( ...
  -1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1) ...
  .*theta3)+(-1).*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1) ...
  .*L1.*sin(theta3))+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+ ...
  theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1) ...
  .*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*(( ...
  -1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).* ...
  theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+( ...
  -1).*Ixx5.*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(( ...
  -1).*Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+ ...
  theta4).*((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+(-1).*m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+(-1).*m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta5).* ...
  ((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))))+theta4dot.*((1/2).*(Ixy4.*cos(theta2+ ...
  (-1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*( ...
  COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+cos(theta2+( ...
  -1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.* ...
  sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5)+( ...
  -1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*sin(theta5).*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+ ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+(-1).*L1.*m3.*(COM3y+y1+y2) ...
  .*cos(theta3).*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*((-1).* ...
  COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1).* ...
  theta3)+(-1).*L1.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*sin( ...
  theta3)+(-1).*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1).* ...
  L1.*sin(theta3))+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta3+(-1).*theta4)+(-1).*m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+( ...
  -1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta3+(-1).*theta4).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).* ...
  z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos( ...
  theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m5.*cos(theta3+(-1) ...
  .*theta4).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+cos(theta2+( ...
  -1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.* ...
  sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5)+( ...
  -1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin( ...
  theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+(-1).*L1.*m5.*sin(theta3+(-1).*theta4).*sin(theta5).*((-1).* ...
  cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta5).*((-1).*(( ...
  -1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1) ...
  .*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1) ...
  .*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))))+L1.*m5.*cos(theta5).*sin(theta3+(-1).*theta4).*((-1).* ...
  (cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )))))+theta3dot.*((1/2).*((-1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.* ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1) ...
  .*theta3+theta4)+Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2) ...
  .*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+ ...
  y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin( ...
  theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+ ...
  y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos( ...
  theta5)+Ixx5.*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5) ...
  .*(Iyy5.*cos(theta5)+Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4) ...
  .*(Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  (-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin( ...
  theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5).* ...
  ((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+(-1).*L1.*m3.*(COM3y+y1+y2) ...
  .*cos(theta3).*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*((-1).* ...
  COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1).* ...
  theta3)+(-1).*L1.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*sin( ...
  theta3)+(-1).*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1).* ...
  L1.*sin(theta3))+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta3+(-1).*theta4)+(-1).*m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+( ...
  -1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta3+(-1).*theta4).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).* ...
  z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos( ...
  theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m5.*cos(theta3+(-1) ...
  .*theta4).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+cos(theta2+( ...
  -1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.* ...
  sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5)+( ...
  -1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin( ...
  theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+(-1).*L1.*m5.*sin(theta3+(-1).*theta4).*sin(theta5).*((-1).* ...
  cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta5).*((-1).*(( ...
  -1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1) ...
  .*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1) ...
  .*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))))+L1.*m5.*cos(theta5).*sin(theta3+(-1).*theta4).*((-1).* ...
  (cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )))))+theta5dot.*((1/2).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1) ...
  .*theta3+theta4).*sin(theta5)+(-1).*COM5x.*m5.*((-1).*(L1.*cos(theta2)+ ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4) ...
  .*(COM5x+y4.*sin(theta5)))+(-1).*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1) ...
  .*y3).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin( ...
  theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+( ...
  -1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1).*Ixy4.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+ ...
  theta4).*((-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*(COM4x+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+Iyz4.*sin(theta2+(-1).*theta3+ ...
  theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1) ...
  .*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin( ...
  theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+m5.*(L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4).* ...
  (y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin( ...
  theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).* ...
  Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+m5.*(L1.*sin(theta3+(-1).* ...
  theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).*((-1).*cos(theta5).*(L1.* ...
  sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+( ...
  -1).*theta4)+L1.*cos(theta4)).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+( ...
  -1).*m5.*cos(theta5).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin( ...
  theta4)).*((-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin( ...
  theta1)+cos(theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))))+theta1dot.*((-1).*m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*((-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*((-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+(-1).*cos(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))+(-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+(1/2).*((-1).*cos(theta2).*(Ixz2.*cos( ...
  theta2)+Ixx2.*sin(theta2))+(-1).*sin(theta2).*(Ixx2.*cos(theta2)+(-1).* ...
  Ixz2.*sin(theta2))+sin(theta2).*(Izz2.*cos(theta2)+Ixz2.*sin(theta2))+( ...
  -1).*cos(theta2).*(Ixz2.*cos(theta2)+(-1).*Izz2.*sin(theta2))+(-2).*m2.* ...
  ((-1).*(COM2z+z0).*cos(theta2)+(-1).*COM2x.*sin(theta2)).*(COM2x.*cos( ...
  theta2)+(-1).*(COM2z+z0).*sin(theta2))+(-1).*cos(theta2+(-1).*theta3).*( ...
  Ixz3.*cos(theta2+(-1).*theta3)+Ixx3.*sin(theta2+(-1).*theta3))+(-1).* ...
  sin(theta2+(-1).*theta3).*(Ixx3.*cos(theta2+(-1).*theta3)+(-1).*Ixz3.* ...
  sin(theta2+(-1).*theta3))+sin(theta2+(-1).*theta3).*(Izz3.*cos(theta2+( ...
  -1).*theta3)+Ixz3.*sin(theta2+(-1).*theta3))+(-1).*cos(theta2+(-1).* ...
  theta3).*(Ixz3.*cos(theta2+(-1).*theta3)+(-1).*Izz3.*sin(theta2+(-1).* ...
  theta3))+(-2).*m3.*((-1).*L1.*cos(theta2)+(-1).*(COM3z+(-1).*L1+z0+z2).* ...
  cos(theta2+(-1).*theta3)+(-1).*COM3x.*sin(theta2+(-1).*theta3)).*( ...
  COM3x.*cos(theta2+(-1).*theta3)+(-1).*L1.*sin(theta2)+(-1).*(COM3z+(-1) ...
  .*L1+z0+z2).*sin(theta2+(-1).*theta3))+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+Ixx4.*sin(theta2+(-1).* ...
  theta3+theta4))+(-1).*sin(theta2+(-1).*theta3+theta4).*(Ixx4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixz4.*sin(theta2+(-1).*theta3+theta4)) ...
  +sin(theta2+(-1).*theta3+theta4).*(Izz4.*cos(theta2+(-1).*theta3+theta4) ...
  +Ixz4.*sin(theta2+(-1).*theta3+theta4))+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*(Ixz4.*cos(theta2+(-1).*theta3+theta4)+(-1).*Izz4.*sin(theta2+( ...
  -1).*theta3+theta4))+(-2).*m4.*((-1).*L1.*cos(theta2)+(-1).*L1.*cos( ...
  theta2+(-1).*theta3)+(-1).*COM4z.*cos(theta2+(-1).*theta3+theta4)+2.* ...
  L1.*cos(theta2+(-1).*theta3+theta4)+(-1).*z0.*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*z2.*cos(theta2+(-1).*theta3+theta4)+(-1).*z3.*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*COM4x.*sin(theta2+(-1).*theta3+theta4)).*( ...
  COM4x.*cos(theta2+(-1).*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.* ...
  sin(theta2+(-1).*theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+ ...
  2.*L1.*sin(theta2+(-1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*z2.*sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin( ...
  theta2+(-1).*theta3+theta4))+(-2).*m5.*cos(theta2+(-1).*theta3+theta4).* ...
  sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).^2+(-1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*sin( ...
  theta5).*(Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*( ...
  Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5).*( ...
  Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos(theta5).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(Iyz5.*cos( ...
  theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+sin( ...
  theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+(-1).*theta3+theta4)+ ...
  Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*sin( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+(-2).*m5.*((-1).*cos(theta5).* ...
  (L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5))).*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).* ...
  cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-2).*m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+ ...
  cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+( ...
  -1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*((-1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1) ...
  .*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),(1/2).* ...
  theta3dot.*(2.*L1.*m3.*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos( ...
  theta3)).*sin(theta3)+(-2).*L1.*m3.*cos(theta3).*(COM3x+(-1).*L1.*sin( ...
  theta3))+2.*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).* ...
  L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin(theta3+(-1).* ...
  theta4)+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).*theta4)+(-2) ...
  .*L1.*m4.*cos(theta3+(-1).*theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta3+(-1).*theta4).* ...
  sin(theta5).^2+(-2).*L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.*cos( ...
  theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.* ...
  sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5)))+(1/2).*theta4dot.*(2.*L1.*m3.*((-1).*COM3z+L1+(-1).*z0+(-1).* ...
  z2+(-1).*L1.*cos(theta3)).*sin(theta3)+(-2).*L1.*m3.*cos(theta3).*( ...
  COM3x+(-1).*L1.*sin(theta3))+2.*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1) ...
  .*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)) ...
  .*sin(theta3+(-1).*theta4)+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).^2.*sin( ...
  theta3+(-1).*theta4)+(-2).*L1.*m4.*cos(theta3+(-1).*theta4).*(COM4x+(-1) ...
  .*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-2).*L1.*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta3+(-1).*theta4).*sin(theta5).^2+(-2).*L1.*m5.*cos(theta3+(-1).* ...
  theta4).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin( ...
  theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin( ...
  theta5)+(-1).*y3.*sin(theta5)))+(1/2).*theta5dot.*(2.*m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+2.*m4.* ...
  ((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1) ...
  .*theta4)+(-1).*L1.*cos(theta4)).*((-1).*L1.*sin(theta3+(-1).*theta4)+ ...
  L1.*sin(theta4))+2.*m4.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).* ...
  (COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+2.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)) ...
  .*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).^2+ ...
  2.*m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*(COM5x.*cos( ...
  theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.* ...
  sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5)))+theta1dot.*((1/2).*((-1).*Ixy2.*cos(theta2)+COM2x.*m2.*(COM2y+ ...
  y1).*cos(theta2)+(-1).*Ixy3.*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+Iyz2.*sin(theta2)+m2.*(COM2y+y1).*((-1).* ...
  COM2z+(-1).*z0).*sin(theta2)+Iyz3.*sin(theta2+(-1).*theta3)+m3.*(COM3y+ ...
  y1+y2).*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin( ...
  theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*( ...
  COM3x+(-1).*L1.*sin(theta3))+m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin( ...
  theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(( ...
  -1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).* ...
  theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1) ...
  .*Ixx5.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5) ...
  .*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+(-1).*sin(theta2+( ...
  -1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+ ...
  m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta5).*((-1) ...
  .*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+( ...
  -1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).* ...
  (cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1) ...
  +cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*( ...
  cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*(Ixy2.*cos(theta2)+(-1).*COM2x.*m2.*(COM2y+y1).*cos(theta2)+ ...
  Ixy3.*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*Iyz2.*sin(theta2)+(-1).*m2.*(COM2y+y1).*((-1).*COM2z+(-1).*z0).* ...
  sin(theta2)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2) ...
  .*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+( ...
  -1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+( ...
  -1).*L1.*sin(theta3))+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin( ...
  theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+ ...
  y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos( ...
  theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3) ...
  .*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.* ...
  sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+sin(theta5).*( ...
  Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Ixz5.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+cos(theta5).*(Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta5).*(( ...
  -1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))),(1/2).*theta2dot.*(2.*L1.*m3.*((-1).* ...
  COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta3)+(-2).* ...
  L1.*m3.*cos(theta3).*(COM3x+(-1).*L1.*sin(theta3))+2.*L1.*m4.*((-1).* ...
  COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).* ...
  theta4)+(-1).*L1.*cos(theta4)).*sin(theta3+(-1).*theta4)+(-2).*L1.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)) ...
  .*cos(theta5).^2.*sin(theta3+(-1).*theta4)+(-2).*L1.*m4.*cos(theta3+(-1) ...
  .*theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+( ...
  -2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+ ...
  L1.*cos(theta4)).*sin(theta3+(-1).*theta4).*sin(theta5).^2+(-2).*L1.* ...
  m5.*cos(theta3+(-1).*theta4).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+( ...
  -1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin( ...
  theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5)))+theta3dot.*( ...
  COM3x.*L1.*m3.*cos(theta3)+L1.*m3.*(COM3z+(-1).*L1+z0+z2).*sin(theta3)+ ...
  L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta3+(-1).* ...
  theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos( ...
  theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.*m4.*cos(theta3+(-1).* ...
  theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+L1.*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta4)).*sin(theta3+(-1).*theta4).*sin(theta5).^2+(-1) ...
  .*L1.*m5.*cos(theta3+(-1).*theta4).*((-1).*COM5x.*cos(theta5)+(-1).*L1.* ...
  sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5)))+theta4dot.*((1/2).*((-1).* ...
  COM4x.*L1.*m4.*cos(theta3+(-1).*theta4)+L1.*m4.*((-1).*COM4z+2.*L1+(-1) ...
  .*z0+(-1).*z2+(-1).*z3).*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin(theta3+(-1).*theta4)+(-1).* ...
  L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta3+(-1).*theta4).*sin( ...
  theta5).^2+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.*cos(theta5)+( ...
  -1).*(COM5y+y1+y2+y3).*sin(theta5)))+(1/2).*(COM3x.*L1.*m3.*cos(theta3)+ ...
  L1.*m3.*(COM3z+(-1).*L1+z0+z2).*sin(theta3)+L1.*m4.*(COM4z+(-2).*L1+z0+ ...
  z2+z3+L1.*cos(theta4)).*sin(theta3+(-1).*theta4)+L1.*m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).* ...
  theta4)+(-1).*L1.*m4.*cos(theta3+(-1).*theta4).*((-1).*COM4x+(-1).*L1.* ...
  sin(theta4))+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta3+(-1).*theta4).*sin(theta5).^2+(-1).*L1.*m5.*cos(theta3+(-1).* ...
  theta4).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+ ...
  y3).*sin(theta5))))+theta5dot.*((1/2).*(L1.*m5.*((-1).*COM5y+(-1).*y1+( ...
  -1).*y2+(-1).*y3).*cos(theta5).*sin(theta3+(-1).*theta4)+(-1).*COM5x.* ...
  L1.*m5.*sin(theta3+(-1).*theta4).*sin(theta5))+(1/2).*((-1).*L1.*m4.*(( ...
  -1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).* ...
  theta4)+(-1).*L1.*cos(theta4)).*sin(theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).^2.* ...
  sin(theta4)+m4.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*((-1).* ...
  COM4x+(-1).*L1.*sin(theta4))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta4)).*cos(theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.* ...
  sin(theta4))+m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*((-1).*L1.* ...
  sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*L1.*m4.*cos(theta4).*( ...
  COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+L1.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)) ...
  .*sin(theta4).*sin(theta5).^2+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta4)).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5).^2+(-1).*L1.*m5.*cos(theta4).*(COM5x.*cos(theta5)+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.* ...
  sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+m5.*(L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*((-1).*COM5x.*cos(theta5)+(-1).* ...
  L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))))+theta1dot.*((1/2).*(( ...
  -1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.*m3.*(COM3y+y1+y2).*cos( ...
  theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+Iyz3.* ...
  sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*(COM3z+(-1).*L1+z0+z2) ...
  .*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+Iyz4.*sin(theta2+( ...
  -1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+ ...
  z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).*m5.*cos( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+ ...
  y2+y3).*sin(theta5))+(-1).*sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*( ...
  Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1) ...
  .*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).* ...
  (cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+(-1).*L1.*m3.*(COM3y+y1+y2) ...
  .*cos(theta3).*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*((-1).* ...
  COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1).* ...
  theta3)+(-1).*L1.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*sin( ...
  theta3)+(-1).*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1).* ...
  L1.*sin(theta3))+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta3+(-1).*theta4)+(-1).*m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+( ...
  -1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta3+(-1).*theta4).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).* ...
  z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos( ...
  theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m5.*cos(theta3+(-1) ...
  .*theta4).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+cos(theta2+( ...
  -1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.* ...
  sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5)+( ...
  -1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin( ...
  theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+(-1).*L1.*m5.*sin(theta3+(-1).*theta4).*sin(theta5).*((-1).* ...
  cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta5).*((-1).*(( ...
  -1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1) ...
  .*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1) ...
  .*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))))+L1.*m5.*cos(theta5).*sin(theta3+(-1).*theta4).*((-1).* ...
  (cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))),(1/2).*theta2dot.*(2.*L1.*m3.*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+( ...
  -1).*L1.*cos(theta3)).*sin(theta3)+(-2).*L1.*m3.*cos(theta3).*(COM3x+( ...
  -1).*L1.*sin(theta3))+2.*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+( ...
  -1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin( ...
  theta3+(-1).*theta4)+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).* ...
  theta4)+(-2).*L1.*m4.*cos(theta3+(-1).*theta4).*(COM4x+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta3+(-1) ...
  .*theta4).*sin(theta5).^2+(-2).*L1.*m5.*cos(theta3+(-1).*theta4).*( ...
  COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+( ...
  -1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1) ...
  .*y3.*sin(theta5)))+theta4dot.*((-1).*COM4x.*L1.*m4.*cos(theta3+(-1).* ...
  theta4)+L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin( ...
  theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta3+(-1).*theta4).*sin(theta5).^2+(-1).*L1.*m5.*cos( ...
  theta3+(-1).*theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+theta5dot.*((1/2).*(L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+( ...
  -1).*y3).*cos(theta5).*sin(theta3+(-1).*theta4)+(-1).*COM5x.*L1.*m5.* ...
  sin(theta3+(-1).*theta4).*sin(theta5))+(1/2).*(COM4x.*m4.*(L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+ ...
  m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*((-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  (L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).^2+ ...
  m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*(COM5x.*cos(theta5)+ ...
  (-1).*(COM5y+y1+y2+y3).*sin(theta5))))+theta3dot.*((1/2).*((-1).*COM4x.* ...
  L1.*m4.*cos(theta3+(-1).*theta4)+L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+( ...
  -1).*z2+(-1).*z3).*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta3+(-1).*theta4).*sin(theta5).^2+( ...
  -1).*L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+ ...
  y1+y2+y3).*sin(theta5)))+(1/2).*(COM3x.*L1.*m3.*cos(theta3)+L1.*m3.*( ...
  COM3z+(-1).*L1+z0+z2).*sin(theta3)+L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.* ...
  cos(theta4)).*sin(theta3+(-1).*theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.* ...
  m4.*cos(theta3+(-1).*theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+L1.* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta3+(-1).* ...
  theta4).*sin(theta5).^2+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).*((-1).* ...
  COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))) ...
  )+theta1dot.*((1/2).*(Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).* ...
  COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1) ...
  .*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3) ...
  .*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+ ...
  y2+y3).*sin(theta5))+sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4) ...
  .*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*(L1.*cos( ...
  theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*(Ixy3.*cos(theta2+(-1).*theta3) ...
  +Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).* ...
  theta3)+(-1).*L1.*m3.*(COM3y+y1+y2).*cos(theta3).*sin(theta2+(-1).* ...
  theta3)+(-1).*m3.*(COM3y+y1+y2).*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1) ...
  .*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+(-1).*L1.*m3.*(COM3y+y1+y2) ...
  .*cos(theta2+(-1).*theta3).*sin(theta3)+(-1).*m3.*(COM3y+y1+y2).*cos( ...
  theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin(theta3))+(-1).*L1.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta3+(-1).* ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*( ...
  COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*Iyz4.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+ ...
  y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos( ...
  theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+( ...
  -1).*Ixx5.*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(( ...
  -1).*Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+ ...
  theta4).*((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+(-1).*m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+(-1).*L1.*m5.*sin(theta3+( ...
  -1).*theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).* ...
  theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)) ...
  )+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos( ...
  theta4)).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos( ...
  theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1) ...
  .*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+ ...
  sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+ ...
  y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+L1.*m5.*cos( ...
  theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),theta5dot.* ...
  ((-1).*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos(theta5).*(L1.* ...
  sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+COM5x.*m5.*(L1.*sin( ...
  theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5))+(1/2).* ...
  theta2dot.*(2.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*cos(theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+ ...
  (-1).*L1.*sin(theta4))+2.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1) ...
  .*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*((-1).* ...
  L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+2.*m4.*(L1.*cos(theta3+( ...
  -1).*theta4)+L1.*cos(theta4)).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4) ...
  +L1.*sin(theta4))+2.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1) ...
  .*theta4)+L1.*cos(theta4)).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin( ...
  theta4)).*sin(theta5).^2+2.*m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos( ...
  theta4)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.* ...
  sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.* ...
  sin(theta5)+(-1).*y3.*sin(theta5)))+theta4dot.*((1/2).*(L1.*m5.*((-1).* ...
  COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos(theta5).*sin(theta3+(-1).*theta4) ...
  +(-1).*COM5x.*L1.*m5.*sin(theta3+(-1).*theta4).*sin(theta5))+(1/2).*( ...
  COM4x.*m4.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4))+m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1) ...
  .*L1.*sin(theta4))+m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*( ...
  (-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5).^2+m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+theta3dot.*((1/2).*( ...
  L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos(theta5).*sin( ...
  theta3+(-1).*theta4)+(-1).*COM5x.*L1.*m5.*sin(theta3+(-1).*theta4).*sin( ...
  theta5))+(1/2).*((-1).*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1) ...
  .*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin( ...
  theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4) ...
  +L1.*cos(theta4)).*cos(theta5).^2.*sin(theta4)+m4.*(L1.*cos(theta3+(-1) ...
  .*theta4)+L1.*cos(theta4)).*((-1).*COM4x+(-1).*L1.*sin(theta4))+(-1).* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).^2.*(L1.* ...
  sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+m4.*(COM4z+(-2).*L1+z0+ ...
  z2+z3+L1.*cos(theta4)).*((-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin( ...
  theta4))+(-1).*L1.*m4.*cos(theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta4).*sin(theta5).^2+(-1) ...
  .*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*(L1.*sin(theta3+(-1) ...
  .*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).^2+(-1).*L1.*m5.*cos( ...
  theta4).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin( ...
  theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin( ...
  theta5)+(-1).*y3.*sin(theta5))+m5.*(L1.*cos(theta3+(-1).*theta4)+L1.* ...
  cos(theta4)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+ ...
  y2+y3).*sin(theta5))))+theta1dot.*((1/2).*((-1).*Ixz5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5)+(-1).*COM5x.*m5.*((-1).*( ...
  L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1) ...
  .*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*((-1).*COM5y+(-1).* ...
  y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos( ...
  theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+( ...
  -1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1).*Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1) ...
  .*theta3+theta4).*((-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+ ...
  m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*(COM4x+(-1).*L1.* ...
  sin(theta3+(-1).*theta4)+L1.*sin(theta4))+Iyz4.*sin(theta2+(-1).*theta3+ ...
  theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1) ...
  .*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin( ...
  theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+m5.*(L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4).* ...
  (y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin( ...
  theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).* ...
  Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+m5.*(L1.*sin(theta3+(-1).* ...
  theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).*((-1).*cos(theta5).*(L1.* ...
  sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+( ...
  -1).*theta4)+L1.*cos(theta4)).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+( ...
  -1).*m5.*cos(theta5).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin( ...
  theta4)).*((-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin( ...
  theta1)+cos(theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))));theta4dot.*((1/2).*((-1).*Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1) ...
  .*theta3+theta4)+Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+ ...
  y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta2+(-1).* ...
  theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*cos(theta5).*((-1).* ...
  Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+(-1).*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5) ...
  +(-1).*Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1) ...
  .*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*((-1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.*m3.*(COM3y+y1+ ...
  y2).*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+ ...
  theta4)+Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*(COM3z+( ...
  -1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+ ...
  Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*( ...
  COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos( ...
  theta5)+Ixx5.*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5) ...
  .*(Iyy5.*cos(theta5)+Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4) ...
  .*(Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  (-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin( ...
  theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+ ...
  (-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*( ...
  cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))))))+theta3dot.*((1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+( ...
  -1).*COM3x.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+m3.*( ...
  COM3y+y1+y2).*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).* ...
  L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+ ...
  y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).* ...
  theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos( ...
  theta5)+Ixx5.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5).*(Iyy5.*cos(theta5)+Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+m5.*cos(theta2+( ...
  -1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+ ...
  y3).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*((-1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.* ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1) ...
  .*theta3+theta4)+Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2) ...
  .*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+ ...
  y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin( ...
  theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+ ...
  y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos( ...
  theta5)+Ixx5.*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5) ...
  .*(Iyy5.*cos(theta5)+Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4) ...
  .*(Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  (-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin( ...
  theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+ ...
  (-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*( ...
  cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))))))+theta2dot.*((1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+( ...
  -1).*COM3x.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+m3.*( ...
  COM3y+y1+y2).*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).* ...
  L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+ ...
  y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).* ...
  theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos( ...
  theta5)+Ixx5.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5).*(Iyy5.*cos(theta5)+Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+m5.*cos(theta2+( ...
  -1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+ ...
  y3).*sin(theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)) ...
  .*sin(theta5).*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+ ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos( ...
  theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3)) ...
  +(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+ ...
  y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1) ...
  .*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*( ...
  cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*((-1).*Ixy3.*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+Iyz3.*sin(theta2+(-1).*theta3)+L1.*m3.*( ...
  COM3y+y1+y2).*cos(theta3).*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*( ...
  (-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1) ...
  .*theta3)+L1.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*sin(theta3)+ ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin( ...
  theta3))+L1.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta3+(-1).*theta4)+m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+ ...
  theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+ ...
  Iyz4.*sin(theta2+(-1).*theta3+theta4)+L1.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+ ...
  y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+ ...
  (-1).*theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+ ...
  L1.*m5.*cos(theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin( ...
  theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).* ...
  Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+L1.*m5.*sin(theta3+(-1).* ...
  theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).* ...
  theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)) ...
  )+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+ ...
  L1.*cos(theta4)).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).* ...
  theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+ ...
  L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+( ...
  -1).*L1.*m5.*cos(theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+( ...
  -1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+theta5dot.* ...
  ((1/2).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5)+(-1).*COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1) ...
  .*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-1).*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos( ...
  theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*(Ixy4.*cos(theta2+(-1) ...
  .*theta3+theta4)+L1.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta4)+m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+ ...
  theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta4).*sin( ...
  theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+ ...
  z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).*L1.*m5.*cos( ...
  theta4).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*cos(theta5) ...
  .*(Ixy5.*cos(theta5)+Ixx5.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5).*(Iyy5.*cos(theta5)+Ixy5.*sin(theta5))+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+( ...
  COM5y+y1+y2+y3).*sin(theta5))+L1.*m5.*sin(theta4).*sin(theta5).*((-1).* ...
  cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta4)).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1) ...
  .*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(( ...
  -1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1) ...
  .*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+ ...
  y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+(-1).*L1.*m5.*cos(theta5).*sin(theta4) ...
  .*((-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )))))+theta1dot.*(m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos( ...
  theta5).*((-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*((-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+(-1).*cos(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))+(-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+(1/2).*(cos(theta2+(-1).*theta3).*( ...
  Ixz3.*cos(theta2+(-1).*theta3)+Ixx3.*sin(theta2+(-1).*theta3))+(-1).* ...
  sin(theta2+(-1).*theta3).*((-1).*Ixx3.*cos(theta2+(-1).*theta3)+Ixz3.* ...
  sin(theta2+(-1).*theta3))+(-1).*sin(theta2+(-1).*theta3).*(Izz3.*cos( ...
  theta2+(-1).*theta3)+Ixz3.*sin(theta2+(-1).*theta3))+(-1).*cos(theta2+( ...
  -1).*theta3).*((-1).*Ixz3.*cos(theta2+(-1).*theta3)+Izz3.*sin(theta2+( ...
  -1).*theta3))+(-2).*m3.*((COM3z+(-1).*L1+z0+z2).*cos(theta2+(-1).* ...
  theta3)+COM3x.*sin(theta2+(-1).*theta3)).*(COM3x.*cos(theta2+(-1).* ...
  theta3)+(-1).*L1.*sin(theta2)+(-1).*(COM3z+(-1).*L1+z0+z2).*sin(theta2+( ...
  -1).*theta3))+cos(theta2+(-1).*theta3+theta4).*(Ixz4.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixx4.*sin(theta2+(-1).*theta3+theta4))+(-1).*sin(theta2+( ...
  -1).*theta3+theta4).*((-1).*Ixx4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.* ...
  sin(theta2+(-1).*theta3+theta4))+(-1).*sin(theta2+(-1).*theta3+theta4).* ...
  (Izz4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+(-1).*theta3+ ...
  theta4))+(-1).*cos(theta2+(-1).*theta3+theta4).*((-1).*Ixz4.*cos(theta2+ ...
  (-1).*theta3+theta4)+Izz4.*sin(theta2+(-1).*theta3+theta4))+(-2).*m4.*( ...
  L1.*cos(theta2+(-1).*theta3)+COM4z.*cos(theta2+(-1).*theta3+theta4)+(-2) ...
  .*L1.*cos(theta2+(-1).*theta3+theta4)+z0.*cos(theta2+(-1).*theta3+ ...
  theta4)+z2.*cos(theta2+(-1).*theta3+theta4)+z3.*cos(theta2+(-1).*theta3+ ...
  theta4)+COM4x.*sin(theta2+(-1).*theta3+theta4)).*(COM4x.*cos(theta2+(-1) ...
  .*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.*sin(theta2+(-1).* ...
  theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+2.*L1.*sin(theta2+( ...
  -1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).*theta3+theta4)+(-1).*z2.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin(theta2+(-1).*theta3+ ...
  theta4))+2.*m5.*cos(theta2+(-1).*theta3+theta4).*sin(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)) ...
  .^2+(-1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*((-1).*Ixx5.* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).* ...
  theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+sin( ...
  theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta2+(-1).* ...
  theta3+theta4).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*( ...
  Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+(-2).*m5.*((-1).* ...
  cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5))).*((-1).*((-1).*L1.*cos(theta2+( ...
  -1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+ ...
  y4.*sin(theta5)))+(-2).*m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*(( ...
  -1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))),(1/2).*theta2dot.*((-2).*L1.*m3.*((-1).*COM3z+L1+(-1).*z0+(-1).* ...
  z2+(-1).*L1.*cos(theta3)).*sin(theta3)+2.*L1.*m3.*cos(theta3).*(COM3x+( ...
  -1).*L1.*sin(theta3))+(-2).*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).* ...
  z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).* ...
  sin(theta3+(-1).*theta4)+2.*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).* ...
  theta4)+2.*L1.*m4.*cos(theta3+(-1).*theta4).*(COM4x+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+2.*L1.*m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta3+(-1).* ...
  theta4).*sin(theta5).^2+2.*L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).* ...
  COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).* ...
  y3.*sin(theta5)))+theta4dot.*((1/2).*(COM4x.*L1.*m4.*cos(theta3+(-1).* ...
  theta4)+(-1).*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).* ...
  sin(theta3+(-1).*theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).^2.*sin(theta3+(-1).*theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*sin(theta3+(-1).*theta4).*sin(theta5).^2+L1.*m5.*cos(theta3+(-1).* ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(1/2) ...
  .*(COM3x.*L1.*m3.*cos(theta3)+L1.*m3.*(COM3z+(-1).*L1+z0+z2).*sin( ...
  theta3)+L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta3+( ...
  -1).*theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos( ...
  theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.*m4.*cos(theta3+(-1).* ...
  theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+L1.*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta4)).*sin(theta3+(-1).*theta4).*sin(theta5).^2+(-1) ...
  .*L1.*m5.*cos(theta3+(-1).*theta4).*((-1).*COM5x.*cos(theta5)+(-1).*L1.* ...
  sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))))+theta3dot.*((1/2).*(COM3x.* ...
  L1.*m3.*cos(theta3)+L1.*m3.*(COM3z+(-1).*L1+z0+z2).*sin(theta3)+L1.*m4.* ...
  (COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta3+(-1).*theta4)+L1.* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).^2.*sin( ...
  theta3+(-1).*theta4)+(-1).*L1.*m4.*cos(theta3+(-1).*theta4).*((-1).* ...
  COM4x+(-1).*L1.*sin(theta4))+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta4)).*sin(theta3+(-1).*theta4).*sin(theta5).^2+(-1).*L1.*m5.* ...
  cos(theta3+(-1).*theta4).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin( ...
  theta4)+(COM5y+y1+y2+y3).*sin(theta5)))+(1/2).*((-1).*COM3x.*L1.*m3.* ...
  cos(theta3)+(-1).*L1.*m3.*(COM3z+(-1).*L1+z0+z2).*sin(theta3)+(-1).*L1.* ...
  m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta3+(-1).*theta4)+ ...
  (-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5) ...
  .^2.*sin(theta3+(-1).*theta4)+L1.*m4.*cos(theta3+(-1).*theta4).*((-1).* ...
  COM4x+(-1).*L1.*sin(theta4))+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta4)).*sin(theta3+(-1).*theta4).*sin(theta5).^2+L1.*m5.*cos( ...
  theta3+(-1).*theta4).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+( ...
  COM5y+y1+y2+y3).*sin(theta5))))+theta5dot.*((1/2).*((-1).*L1.*m5.*((-1) ...
  .*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos(theta5).*sin(theta3+(-1).* ...
  theta4)+COM5x.*L1.*m5.*sin(theta3+(-1).*theta4).*sin(theta5))+(1/2).*(( ...
  -1).*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.* ...
  cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin(theta4)+L1.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)) ...
  .*cos(theta5).^2.*sin(theta4)+m4.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos( ...
  theta4)).*((-1).*COM4x+(-1).*L1.*sin(theta4))+(-1).*m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).^2.*(L1.*sin(theta3+(-1).* ...
  theta4)+(-1).*L1.*sin(theta4))+m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos( ...
  theta4)).*((-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).* ...
  L1.*m4.*cos(theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin( ...
  theta4))+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*sin(theta4).*sin(theta5).^2+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*(L1.*sin(theta3+(-1).*theta4)+(-1) ...
  .*L1.*sin(theta4)).*sin(theta5).^2+(-1).*L1.*m5.*cos(theta4).*(COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).* ...
  COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).* ...
  y3.*sin(theta5))+m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*(( ...
  -1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin( ...
  theta5))))+theta1dot.*((1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+(-1).* ...
  COM3x.*m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2) ...
  .*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+m4.*(COM4y+y1+y2+y3) ...
  .*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+( ...
  -1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(COM4z+ ...
  (-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos(theta5)+Ixx5.*sin( ...
  theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(Iyy5.*cos( ...
  theta5)+Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4) ...
  .*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*((-1).*COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))+(-1).* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5).*((-1).*( ...
  L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1) ...
  .*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(( ...
  -1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).* ...
  sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1) ...
  .*Ixy3.*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+ ...
  theta4)+Iyz3.*sin(theta2+(-1).*theta3)+L1.*m3.*(COM3y+y1+y2).*cos( ...
  theta3).*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*((-1).*COM3z+L1+( ...
  -1).*z0+(-1).*z2+(-1).*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+L1.* ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3).*sin(theta3)+m3.*(COM3y+y1+ ...
  y2).*cos(theta2+(-1).*theta3).*(COM3x+(-1).*L1.*sin(theta3))+L1.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta3+(-1).* ...
  theta4)+m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*(COM4x+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+Iyz4.*sin(theta2+(-1) ...
  .*theta3+theta4)+L1.*m4.*(COM4y+y1+y2+y3).*cos(theta3+(-1).*theta4).* ...
  sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.* ...
  L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).* ...
  L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+L1.*m5.*cos(theta3+( ...
  -1).*theta4).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos( ...
  theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.* ...
  sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+sin(theta5).*((-1).*Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+cos(theta5).*((-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+L1.*m5.*sin(theta3+(-1).* ...
  theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).* ...
  theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)) ...
  )+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+ ...
  L1.*cos(theta4)).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).* ...
  theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+ ...
  L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+( ...
  -1).*L1.*m5.*cos(theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+( ...
  -1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),(1/2).* ...
  theta5dot.*((-2).*L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).* ...
  sin(theta4)+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).* ...
  cos(theta5).^2.*sin(theta4)+(-2).*L1.*m4.*cos(theta4).*((-1).*COM4x+(-1) ...
  .*L1.*sin(theta4))+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta4)).*sin(theta4).*sin(theta5).^2+(-2).*L1.*m5.*cos(theta4).*((-1).* ...
  COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))) ...
  +theta2dot.*((1/2).*(COM3x.*L1.*m3.*cos(theta3)+L1.*m3.*(COM3z+(-1).*L1+ ...
  z0+z2).*sin(theta3)+L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).* ...
  sin(theta3+(-1).*theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta4)).*cos(theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.*m4.*cos( ...
  theta3+(-1).*theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+L1.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta3+(-1).*theta4).* ...
  sin(theta5).^2+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).*((-1).*COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5)))+(1/2) ...
  .*((-1).*COM3x.*L1.*m3.*cos(theta3)+(-1).*L1.*m3.*(COM3z+(-1).*L1+z0+z2) ...
  .*sin(theta3)+(-1).*L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).* ...
  sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).*theta4)+L1.*m4.*cos( ...
  theta3+(-1).*theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+(-1).*L1.*m5.* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta3+(-1).*theta4).* ...
  sin(theta5).^2+L1.*m5.*cos(theta3+(-1).*theta4).*((-1).*COM5x.*cos( ...
  theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))))+ ...
  theta1dot.*((1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+(-1).*COM3x.*m3.*( ...
  COM3y+y1+y2).*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*(COM3z+( ...
  -1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+m4.*(COM4y+y1+y2+y3).*cos( ...
  theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+(-1).* ...
  Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(COM4z+(-2) ...
  .*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+m5.*cos( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+ ...
  y2+y3).*sin(theta5))+(-1).*sin(theta5).*((-1).*Ixx5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*((-1).* ...
  Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+ ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5).*((-1).*(( ...
  -1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*((-1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.*m3.*(COM3y+y1+y2).* ...
  cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+ ...
  Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2).*(COM3z+(-1).*L1+ ...
  z0+z2).*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+ ...
  (-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+Iyz4.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*(COM4z+(-2).*L1+ ...
  z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos(theta5)+Ixx5.*sin( ...
  theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(Iyy5.*cos( ...
  theta5)+Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*(Iyz5.*cos( ...
  theta5)+Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*((-1).*COM5x.*cos( ...
  theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5).*((-1).*((-1).* ...
  L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),( ...
  1/2).*theta5dot.*((-1).*COM4x.*L1.*m4.*cos(theta4)+(-1).*L1.*m4.*((-1).* ...
  COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta4)+L1.*m5.*(COM5z+(-2) ...
  .*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin(theta4)+L1.*m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta4).*sin(theta5).^2+(-1).*L1.*m5.*cos(theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+theta2dot.*(( ...
  1/2).*(COM4x.*L1.*m4.*cos(theta3+(-1).*theta4)+(-1).*L1.*m4.*((-1).* ...
  COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta3+(-1).*theta4)+L1.* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin(theta3+(-1).* ...
  theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta3+(-1).*theta4).* ...
  sin(theta5).^2+L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.*cos(theta5)+( ...
  -1).*(COM5y+y1+y2+y3).*sin(theta5)))+(1/2).*(COM3x.*L1.*m3.*cos(theta3)+ ...
  L1.*m3.*(COM3z+(-1).*L1+z0+z2).*sin(theta3)+L1.*m4.*(COM4z+(-2).*L1+z0+ ...
  z2+z3+L1.*cos(theta4)).*sin(theta3+(-1).*theta4)+L1.*m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).* ...
  theta4)+(-1).*L1.*m4.*cos(theta3+(-1).*theta4).*((-1).*COM4x+(-1).*L1.* ...
  sin(theta4))+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta3+(-1).*theta4).*sin(theta5).^2+(-1).*L1.*m5.*cos(theta3+(-1).* ...
  theta4).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+ ...
  y3).*sin(theta5))))+theta1dot.*((1/2).*((-1).*Ixy4.*cos(theta2+(-1).* ...
  theta3+theta4)+COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+ ...
  theta4)+Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(( ...
  -1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta2+(-1).*theta3+ ...
  theta4)+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))+sin(theta5).*((-1).*Ixx5.*cos(theta2+(-1).*theta3+theta4) ...
  .*cos(theta5)+Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+( ...
  -1).*theta3+theta4).*sin(theta5))+cos(theta5).*((-1).*Ixy5.*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+ ...
  Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).* ...
  theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*( ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4) ...
  .*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*((-1).*Ixy3.*cos(theta2+(-1).*theta3)+COM3x.* ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1) ...
  .*theta3+theta4)+Iyz3.*sin(theta2+(-1).*theta3)+(-1).*m3.*(COM3y+y1+y2) ...
  .*(COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+(-1).*m4.*(COM4y+y1+ ...
  y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin( ...
  theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+ ...
  y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos( ...
  theta5)+Ixx5.*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5) ...
  .*(Iyy5.*cos(theta5)+Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4) ...
  .*(Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  (-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin( ...
  theta5))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin( ...
  theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+ ...
  (-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*( ...
  cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))),theta5dot.*((-1).*L1.*m5.*((-1).*COM5y+(-1).*y1+(-1) ...
  .*y2+(-1).*y3).*cos(theta5).*sin(theta4)+COM5x.*L1.*m5.*sin(theta4).* ...
  sin(theta5))+(1/2).*theta4dot.*((-1).*COM4x.*L1.*m4.*cos(theta4)+(-1).* ...
  L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta4)+L1.* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin(theta4)+L1.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta4).*sin(theta5).^2+(-1).*L1.*m5.* ...
  cos(theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+( ...
  1/2).*theta3dot.*((-2).*L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4) ...
  ).*sin(theta4)+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4) ...
  ).*cos(theta5).^2.*sin(theta4)+(-2).*L1.*m4.*cos(theta4).*((-1).*COM4x+( ...
  -1).*L1.*sin(theta4))+(-2).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta4)).*sin(theta4).*sin(theta5).^2+(-2).*L1.*m5.*cos(theta4).*((-1).* ...
  COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))) ...
  +theta2dot.*((1/2).*((-1).*L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).* ...
  y3).*cos(theta5).*sin(theta3+(-1).*theta4)+COM5x.*L1.*m5.*sin(theta3+( ...
  -1).*theta4).*sin(theta5))+(1/2).*((-1).*L1.*m4.*((-1).*COM4z+2.*L1+(-1) ...
  .*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos( ...
  theta4)).*sin(theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta4)+m4.*( ...
  L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*((-1).*COM4x+(-1).*L1.* ...
  sin(theta4))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).* ...
  cos(theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+ ...
  m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*((-1).*L1.*sin(theta3+( ...
  -1).*theta4)+L1.*sin(theta4))+(-1).*L1.*m4.*cos(theta4).*(COM4x+(-1).* ...
  L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+L1.*m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta4).* ...
  sin(theta5).^2+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*( ...
  L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).^2+(-1) ...
  .*L1.*m5.*cos(theta4).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+m5.*(L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin( ...
  theta4)+(COM5y+y1+y2+y3).*sin(theta5))))+theta1dot.*((1/2).*(Ixz5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)+ ...
  (-1).*COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).* ...
  m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+ ...
  (-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*( ...
  cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*(Ixy4.*cos(theta2+(-1).*theta3+theta4)+L1.* ...
  m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta4)+m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).* ...
  L1.*sin(theta4))+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*L1.* ...
  m4.*(COM4y+y1+y2+y3).*cos(theta4).*sin(theta2+(-1).*theta3+theta4)+m4.*( ...
  COM4y+y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+( ...
  -1).*theta3+theta4)+(-1).*L1.*m5.*cos(theta4).*sin(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos(theta5)+Ixx5.*sin( ...
  theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(Iyy5.*cos( ...
  theta5)+Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4) ...
  .*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*((-1).*COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))+L1.* ...
  m5.*sin(theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.* ...
  sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).* ...
  theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)) ...
  )+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5).*( ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5) ...
  .*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin( ...
  theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1) ...
  .*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+(-1).*L1.* ...
  m5.*cos(theta5).*sin(theta4).*((-1).*(cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin(theta1).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*(( ...
  -1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))));theta4dot.*((1/2).*(Ixy4.*cos(theta2+ ...
  (-1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*( ...
  COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+cos(theta2+( ...
  -1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.* ...
  sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5)+( ...
  -1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*(COM5y+y1+y2+y3).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+COM4x.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+Iyz4.*sin(theta2+(-1).* ...
  theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).* ...
  z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+ ...
  (-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos( ...
  theta5)+(-1).*Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).* ...
  ((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+( ...
  -1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+ ...
  y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos( ...
  theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+theta3dot.*((1/2).*(Ixy4.* ...
  cos(theta2+(-1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+ ...
  (-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).* ...
  z3).*sin(theta2+(-1).*theta3+theta4)+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+ ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+( ...
  -1).*Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.* ...
  cos(theta5)+(-1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+(-1).*COM3x.* ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*( ...
  COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+( ...
  -1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(COM4z+ ...
  (-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos(theta5)+Ixx5.*sin( ...
  theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(Iyy5.*cos( ...
  theta5)+Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  Iyz5.*cos(theta5)+Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4) ...
  .*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*((-1).*COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))+m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5).*((-1).*((-1).* ...
  L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+ ...
  theta5dot.*((1/2).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+( ...
  -1).*Izz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5)+(-1).*COM5x.*m5.*((-1).*((-1).*L1.*cos( ...
  theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1) ...
  .*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+ ...
  y4.*sin(theta5)))+(-1).*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*( ...
  cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+ ...
  cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1).*Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1) ...
  .*theta3+theta4)+Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+ ...
  y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta2+(-1).* ...
  theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*cos(theta5).*((-1).* ...
  Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+(-1).*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5) ...
  +(-1).*Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*(COM5y+y1+y2+y3).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+ ...
  theta2dot.*((1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+COM4x.* ...
  m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+Iyz4.*sin(theta2+( ...
  -1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+( ...
  -1).*z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin( ...
  theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).* ...
  Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*(L1.*cos( ...
  theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4) ...
  .*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+ ...
  cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+( ...
  -1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1).*Ixy3.*cos( ...
  theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+Iyz3.* ...
  sin(theta2+(-1).*theta3)+L1.*m3.*(COM3y+y1+y2).*cos(theta3).*sin(theta2+ ...
  (-1).*theta3)+m3.*(COM3y+y1+y2).*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1) ...
  .*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+L1.*m3.*(COM3y+y1+y2).*cos( ...
  theta2+(-1).*theta3).*sin(theta3)+m3.*(COM3y+y1+y2).*cos(theta2+(-1).* ...
  theta3).*(COM3x+(-1).*L1.*sin(theta3))+L1.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta3+(-1).*theta4)+m4.*(COM4y+y1+y2+ ...
  y3).*cos(theta2+(-1).*theta3+theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+L1.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+ ...
  theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1) ...
  .*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin( ...
  theta2+(-1).*theta3+theta4)+L1.*m5.*cos(theta3+(-1).*theta4).*sin( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+cos(theta2+(-1).*theta3+theta4).*cos(theta5).*((-1).*Ixy5.* ...
  cos(theta5)+(-1).*Ixx5.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+ ...
  (-1).*sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5)+(-1).* ...
  Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+ ...
  y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.* ...
  sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).* ...
  y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+L1.*m5.* ...
  sin(theta3+(-1).*theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin( ...
  theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+ ...
  y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+( ...
  -1).*theta4)+L1.*cos(theta4)).*sin(theta5).*((-1).*((-1).*L1.*cos( ...
  theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1) ...
  .*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+ ...
  y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )))+(-1).*L1.*m5.*cos(theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )))))+theta1dot.*((-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*( ...
  (-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  sin(theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*((-1).*sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*((-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+(-1).*cos(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))+(-1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+(1/2).*(cos(theta2+(-1).*theta3).*( ...
  Ixz3.*cos(theta2+(-1).*theta3)+Ixx3.*sin(theta2+(-1).*theta3))+(-1).* ...
  sin(theta2+(-1).*theta3).*((-1).*Ixx3.*cos(theta2+(-1).*theta3)+Ixz3.* ...
  sin(theta2+(-1).*theta3))+(-1).*sin(theta2+(-1).*theta3).*(Izz3.*cos( ...
  theta2+(-1).*theta3)+Ixz3.*sin(theta2+(-1).*theta3))+(-1).*cos(theta2+( ...
  -1).*theta3).*((-1).*Ixz3.*cos(theta2+(-1).*theta3)+Izz3.*sin(theta2+( ...
  -1).*theta3))+(-2).*m3.*((COM3z+(-1).*L1+z0+z2).*cos(theta2+(-1).* ...
  theta3)+COM3x.*sin(theta2+(-1).*theta3)).*(COM3x.*cos(theta2+(-1).* ...
  theta3)+(-1).*L1.*sin(theta2)+(-1).*(COM3z+(-1).*L1+z0+z2).*sin(theta2+( ...
  -1).*theta3))+cos(theta2+(-1).*theta3+theta4).*(Ixz4.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixx4.*sin(theta2+(-1).*theta3+theta4))+(-1).*sin(theta2+( ...
  -1).*theta3+theta4).*((-1).*Ixx4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.* ...
  sin(theta2+(-1).*theta3+theta4))+(-1).*sin(theta2+(-1).*theta3+theta4).* ...
  (Izz4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+(-1).*theta3+ ...
  theta4))+(-1).*cos(theta2+(-1).*theta3+theta4).*((-1).*Ixz4.*cos(theta2+ ...
  (-1).*theta3+theta4)+Izz4.*sin(theta2+(-1).*theta3+theta4))+(-2).*m4.*( ...
  L1.*cos(theta2+(-1).*theta3)+COM4z.*cos(theta2+(-1).*theta3+theta4)+(-2) ...
  .*L1.*cos(theta2+(-1).*theta3+theta4)+z0.*cos(theta2+(-1).*theta3+ ...
  theta4)+z2.*cos(theta2+(-1).*theta3+theta4)+z3.*cos(theta2+(-1).*theta3+ ...
  theta4)+COM4x.*sin(theta2+(-1).*theta3+theta4)).*(COM4x.*cos(theta2+(-1) ...
  .*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.*sin(theta2+(-1).* ...
  theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+2.*L1.*sin(theta2+( ...
  -1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).*theta3+theta4)+(-1).*z2.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin(theta2+(-1).*theta3+ ...
  theta4))+2.*m5.*cos(theta2+(-1).*theta3+theta4).*sin(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)) ...
  .^2+(-1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*((-1).*Ixx5.* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).* ...
  theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+sin( ...
  theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.* ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta2+(-1).* ...
  theta3+theta4).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4)+Ixx5.*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*( ...
  Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta5).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*(Izz5.*cos(theta2+(-1).* ...
  theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5))+(-2).*m5.*((-1).* ...
  cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5))).*((-1).*((-1).*L1.*cos(theta2+( ...
  -1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+ ...
  y4.*sin(theta5)))+(-2).*m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*(( ...
  -1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))),(1/2).*theta2dot.*((-2).*L1.*m3.*((-1).*COM3z+L1+(-1).*z0+(-1).* ...
  z2+(-1).*L1.*cos(theta3)).*sin(theta3)+2.*L1.*m3.*cos(theta3).*(COM3x+( ...
  -1).*L1.*sin(theta3))+(-2).*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).* ...
  z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).* ...
  sin(theta3+(-1).*theta4)+2.*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).* ...
  theta4)+2.*L1.*m4.*cos(theta3+(-1).*theta4).*(COM4x+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+2.*L1.*m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta3+(-1).* ...
  theta4).*sin(theta5).^2+2.*L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).* ...
  COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).* ...
  y3.*sin(theta5)))+theta4dot.*((1/2).*((-1).*COM4x.*L1.*m4.*cos(theta3+( ...
  -1).*theta4)+L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).* ...
  sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta3+(-1).*theta4).*sin(theta5).^2+(-1).*L1.*m5.* ...
  cos(theta3+(-1).*theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).* ...
  sin(theta5)))+(1/2).*(COM4x.*L1.*m4.*cos(theta3+(-1).*theta4)+(-1).*L1.* ...
  m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta3+(-1).* ...
  theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin( ...
  theta3+(-1).*theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta3+( ...
  -1).*theta4).*sin(theta5).^2+L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+theta5dot.*((1/2).*(( ...
  -1).*L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos(theta5).*sin( ...
  theta3+(-1).*theta4)+COM5x.*L1.*m5.*sin(theta3+(-1).*theta4).*sin( ...
  theta5))+(1/2).*(COM4x.*m4.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos( ...
  theta4))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*(L1.*sin( ...
  theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+m4.*((-1).*COM4z+2.*L1+(-1) ...
  .*z0+(-1).*z2+(-1).*z3).*((-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin( ...
  theta4))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*(L1.*sin(theta3+(-1).*theta4) ...
  +(-1).*L1.*sin(theta4)).*sin(theta5).^2+m5.*(L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).* ...
  sin(theta5))))+theta3dot.*((1/2).*((-1).*COM4x.*L1.*m4.*cos(theta3+(-1) ...
  .*theta4)+L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin( ...
  theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta3+(-1).*theta4).*sin(theta5).^2+(-1).*L1.*m5.*cos( ...
  theta3+(-1).*theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(1/2).*((-1).*COM3x.*L1.*m3.*cos(theta3)+(-1).*L1.*m3.*(COM3z+ ...
  (-1).*L1+z0+z2).*sin(theta3)+(-1).*L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.* ...
  cos(theta4)).*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta3+(-1).*theta4)+L1.* ...
  m4.*cos(theta3+(-1).*theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+(-1).* ...
  L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta3+(-1).* ...
  theta4).*sin(theta5).^2+L1.*m5.*cos(theta3+(-1).*theta4).*((-1).*COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))))+ ...
  theta1dot.*((1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+COM4x.* ...
  m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+Iyz4.*sin(theta2+( ...
  -1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+( ...
  -1).*z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin( ...
  theta5))+(-1).*cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).* ...
  Iyy5.*cos(theta5)+(-1).*Ixy5.*sin(theta5))+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*((-1).*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*(L1.*cos( ...
  theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4) ...
  .*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+ ...
  cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+( ...
  -1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1).*Ixy3.*cos( ...
  theta2+(-1).*theta3)+(-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+Iyz3.* ...
  sin(theta2+(-1).*theta3)+L1.*m3.*(COM3y+y1+y2).*cos(theta3).*sin(theta2+ ...
  (-1).*theta3)+m3.*(COM3y+y1+y2).*((-1).*COM3z+L1+(-1).*z0+(-1).*z2+(-1) ...
  .*L1.*cos(theta3)).*sin(theta2+(-1).*theta3)+L1.*m3.*(COM3y+y1+y2).*cos( ...
  theta2+(-1).*theta3).*sin(theta3)+m3.*(COM3y+y1+y2).*cos(theta2+(-1).* ...
  theta3).*(COM3x+(-1).*L1.*sin(theta3))+L1.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta3+(-1).*theta4)+m4.*(COM4y+y1+y2+ ...
  y3).*cos(theta2+(-1).*theta3+theta4).*(COM4x+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+L1.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta3+(-1).*theta4).*sin(theta2+(-1).*theta3+ ...
  theta4)+m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1) ...
  .*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin( ...
  theta2+(-1).*theta3+theta4)+L1.*m5.*cos(theta3+(-1).*theta4).*sin( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.* ...
  sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+sin(theta5).*(( ...
  -1).*Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin( ...
  theta2+(-1).*theta3+theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta5))+cos(theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+L1.*m5.*sin(theta3+(-1).*theta4).*sin( ...
  theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+ ...
  cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)) ...
  .*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+( ...
  -1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+(-1).*L1.* ...
  m5.*cos(theta5).*sin(theta3+(-1).*theta4).*((-1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1) ...
  .*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),(1/2).* ...
  theta5dot.*((-1).*COM4x.*L1.*m4.*cos(theta4)+(-1).*L1.*m4.*((-1).*COM4z+ ...
  2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta4)+L1.*m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*cos(theta5).^2.*sin(theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta4).*sin(theta5).^2+(-1).*L1.*m5.*cos(theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+theta2dot.*((1/2).*(( ...
  -1).*COM4x.*L1.*m4.*cos(theta3+(-1).*theta4)+L1.*m4.*((-1).*COM4z+2.*L1+ ...
  (-1).*z0+(-1).*z2+(-1).*z3).*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin(theta3+(-1).*theta4)+( ...
  -1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta3+(-1).*theta4).* ...
  sin(theta5).^2+(-1).*L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(1/2).*((-1).*COM3x.*L1.* ...
  m3.*cos(theta3)+(-1).*L1.*m3.*(COM3z+(-1).*L1+z0+z2).*sin(theta3)+(-1).* ...
  L1.*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta3+(-1).* ...
  theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos( ...
  theta5).^2.*sin(theta3+(-1).*theta4)+L1.*m4.*cos(theta3+(-1).*theta4).*( ...
  (-1).*COM4x+(-1).*L1.*sin(theta4))+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4+L1.*cos(theta4)).*sin(theta3+(-1).*theta4).*sin(theta5).^2+L1.* ...
  m5.*cos(theta3+(-1).*theta4).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin( ...
  theta4)+(COM5y+y1+y2+y3).*sin(theta5))))+theta1dot.*((1/2).*(Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+y1+y2+y3).*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+ ...
  (-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).* ...
  z3).*sin(theta2+(-1).*theta3+theta4)+(-1).*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+ ...
  cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+( ...
  -1).*Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.* ...
  cos(theta5)+(-1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).* ...
  m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*(Ixy3.*cos(theta2+(-1).*theta3)+(-1).*COM3x.* ...
  m3.*(COM3y+y1+y2).*cos(theta2+(-1).*theta3)+Ixy4.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyz3.*sin(theta2+(-1).*theta3)+m3.*(COM3y+y1+y2).*( ...
  COM3z+(-1).*L1+z0+z2).*sin(theta2+(-1).*theta3)+m4.*(COM4y+y1+y2+y3).* ...
  cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).*L1.*sin(theta4))+( ...
  -1).*Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*(COM4z+ ...
  (-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+m5.* ...
  cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+( ...
  COM5y+y1+y2+y3).*sin(theta5))+(-1).*sin(theta5).*((-1).*Ixx5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos( ...
  theta5).*((-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+ ...
  Iyz5.*sin(theta2+(-1).*theta3+theta4)+Iyy5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).* ...
  sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))),theta2dot.*((1/2).*((-1).*COM4x.*L1.*m4.*cos(theta3+ ...
  (-1).*theta4)+L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).* ...
  sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta5).^2.*sin(theta3+(-1).*theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta3+(-1).*theta4).*sin(theta5).^2+(-1).*L1.*m5.* ...
  cos(theta3+(-1).*theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).* ...
  sin(theta5)))+(1/2).*(COM4x.*L1.*m4.*cos(theta3+(-1).*theta4)+(-1).*L1.* ...
  m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta3+(-1).* ...
  theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin( ...
  theta3+(-1).*theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta3+( ...
  -1).*theta4).*sin(theta5).^2+L1.*m5.*cos(theta3+(-1).*theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+theta1dot.*((1/2).*( ...
  Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+y1+y2+y3) ...
  .*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).* ...
  z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+(-1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin( ...
  theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos( ...
  theta5)+(-1).*Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1) ...
  .*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+m5.*(COM5z+(-2) ...
  .*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+(-1).* ...
  theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos( ...
  theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1).*Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1) ...
  .*theta3+theta4)+Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+ ...
  y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta2+(-1).* ...
  theta3+theta4)+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3) ...
  .*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+ ...
  y2+y3).*sin(theta5))+sin(theta5).*((-1).*Ixx5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+Ixz5.*sin(theta2+(-1).*theta3+theta4)+Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta5).*((-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+Iyz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*((-1).*L1.*cos(theta2+( ...
  -1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+ ...
  y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).*(cos( ...
  theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))),(1/2).*theta3dot.*((-1).* ...
  COM4x.*L1.*m4.*cos(theta4)+(-1).*L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+( ...
  -1).*z2+(-1).*z3).*sin(theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta5).^2.*sin(theta4)+L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta4).*sin(theta5).^2+(-1).*L1.*m5.*cos(theta4).*(COM5x.*cos(theta5)+( ...
  -1).*(COM5y+y1+y2+y3).*sin(theta5)))+theta2dot.*((1/2).*((-1).*L1.*m5.*( ...
  (-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos(theta5).*sin(theta3+(-1).* ...
  theta4)+COM5x.*L1.*m5.*sin(theta3+(-1).*theta4).*sin(theta5))+(1/2).*( ...
  COM4x.*m4.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4))+m5.*(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1) ...
  .*L1.*sin(theta4))+m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*( ...
  (-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+m5.*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5).^2+m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+theta1dot.*((1/2).*( ...
  Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5)+(-1).*COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1).* ...
  theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-1).*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos( ...
  theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5)))+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).*cos(theta5).*sin( ...
  theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*((-1).*Ixy4.*cos( ...
  theta2+(-1).*theta3+theta4)+COM4x.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1) ...
  .*theta3+theta4)+Iyz4.*sin(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+ ...
  y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta2+(-1).* ...
  theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*cos(theta5).*((-1).* ...
  Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+(-1).*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1).*Ixy5.*sin( ...
  theta5))+(-1).*sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos(theta5) ...
  +(-1).*Ixz5.*sin(theta5))+m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*(COM5y+y1+y2+y3).*sin(theta5))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))); ...
  theta5dot.*((1/2).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5)+(-1).*COM5x.*m5.*((-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*((-1).* ...
  COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(( ...
  -1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1) ...
  .*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+ ...
  y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*(Ixz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*Izz5.*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)+COM5x.*m5.*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+ ...
  m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+ ...
  (-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+ ...
  y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).* ...
  sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+ ...
  y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))))+theta4dot.*((1/2).*((-1).*Ixz5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+Izz5.*sin(theta2+(-1).*theta3+ ...
  theta4)+Iyz5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)+COM5x.*m5.*(( ...
  -1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*((-1).*COM5y+(-1).*y1+(-1) ...
  .*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+ ...
  sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+ ...
  y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).*sin(theta1).*sin( ...
  theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos( ...
  theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+ ...
  sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin( ...
  theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*( ...
  Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*COM4x.*m4.*(COM4y+y1+y2+y3) ...
  .*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz4.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1).*z0+(-1).* ...
  z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+(-1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin( ...
  theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos( ...
  theta5)+(-1).*Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1) ...
  .*Iyz5.*cos(theta5)+(-1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+( ...
  -1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+ ...
  theta3dot.*((1/2).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5)+COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1) ...
  .*theta3)+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*( ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4) ...
  .*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin( ...
  theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta1).*sin(theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+ ...
  theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5))))))+(1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*L1.*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*(( ...
  -1).*COM4x+(-1).*L1.*sin(theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+ ...
  L1.*m4.*(COM4y+y1+y2+y3).*cos(theta4).*sin(theta2+(-1).*theta3+theta4)+( ...
  -1).*m4.*(COM4y+y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).* ...
  sin(theta2+(-1).*theta3+theta4)+L1.*m5.*cos(theta4).*sin(theta2+(-1).* ...
  theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+( ...
  -1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5).*(Ixy5.*cos(theta5)+ ...
  Ixx5.*sin(theta5))+cos(theta2+(-1).*theta3+theta4).*sin(theta5).*(Iyy5.* ...
  cos(theta5)+Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*(Iyz5.* ...
  cos(theta5)+Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4) ...
  .*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*((-1).*COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin(theta5))+(-1).* ...
  L1.*m5.*sin(theta4).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+ ...
  L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*sin(theta5) ...
  .*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin( ...
  theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos( ...
  theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+ ...
  L1.*m5.*cos(theta5).*sin(theta4).*((-1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).* ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+ ...
  y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))))+theta2dot.* ...
  ((1/2).*(Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5)+COM5x.*m5.*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+( ...
  -1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+ ...
  theta4)).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.* ...
  sin(theta5)))+m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1) ...
  .*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1) ...
  .*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.* ...
  (cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*(Ixy4.*cos(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*cos( ...
  theta2+(-1).*theta3+theta4).*((-1).*L1.*sin(theta3+(-1).*theta4)+L1.* ...
  sin(theta4))+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4) ...
  .*(COM4x+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).* ...
  Iyz4.*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1) ...
  .*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).* ...
  theta4)+(-1).*L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  m4.*(COM4y+y1+y2+y3).*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).* ...
  sin(theta2+(-1).*theta3+theta4)+(-1).*m5.*(L1.*cos(theta3+(-1).*theta4)+ ...
  L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3) ...
  .*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta2+(-1).*theta3+theta4) ...
  .*cos(theta5).*((-1).*Ixy5.*cos(theta5)+(-1).*Ixx5.*sin(theta5))+cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5).*((-1).*Iyy5.*cos(theta5)+(-1) ...
  .*Ixy5.*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*((-1).*Iyz5.*cos( ...
  theta5)+(-1).*Ixz5.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+ ...
  theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.* ...
  cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).* ...
  COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).* ...
  y3.*sin(theta5))+(-1).*m5.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin( ...
  theta4)).*sin(theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).* ...
  theta3+theta4))+cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)) ...
  )+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+ ...
  L1.*cos(theta4)).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*( ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos( ...
  theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1) ...
  .*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).* ...
  sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))))+m5.*cos( ...
  theta5).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*((-1).*( ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).* ...
  sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )))))+theta1dot.*(m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*((-1).*( ...
  cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1) ...
  .*sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+ ...
  cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+ ...
  (-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin( ...
  theta5))))+(-1).*((-1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+(-1).*cos(theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin( ...
  theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+ ...
  (-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))))+(1/2).*((-1).*cos(theta2+(-1).*theta3+theta4).*(Ixz4.* ...
  cos(theta2+(-1).*theta3+theta4)+Ixx4.*sin(theta2+(-1).*theta3+theta4))+( ...
  -1).*sin(theta2+(-1).*theta3+theta4).*(Ixx4.*cos(theta2+(-1).*theta3+ ...
  theta4)+(-1).*Ixz4.*sin(theta2+(-1).*theta3+theta4))+sin(theta2+(-1).* ...
  theta3+theta4).*(Izz4.*cos(theta2+(-1).*theta3+theta4)+Ixz4.*sin(theta2+ ...
  (-1).*theta3+theta4))+(-1).*cos(theta2+(-1).*theta3+theta4).*(Ixz4.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*Izz4.*sin(theta2+(-1).*theta3+theta4)) ...
  +(-2).*m4.*((-1).*COM4z.*cos(theta2+(-1).*theta3+theta4)+2.*L1.*cos( ...
  theta2+(-1).*theta3+theta4)+(-1).*z0.*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*z2.*cos(theta2+(-1).*theta3+theta4)+(-1).*z3.*cos(theta2+(-1).* ...
  theta3+theta4)+(-1).*COM4x.*sin(theta2+(-1).*theta3+theta4)).*(COM4x.* ...
  cos(theta2+(-1).*theta3+theta4)+(-1).*L1.*sin(theta2)+(-1).*L1.*sin( ...
  theta2+(-1).*theta3)+(-1).*COM4z.*sin(theta2+(-1).*theta3+theta4)+2.* ...
  L1.*sin(theta2+(-1).*theta3+theta4)+(-1).*z0.*sin(theta2+(-1).*theta3+ ...
  theta4)+(-1).*z2.*sin(theta2+(-1).*theta3+theta4)+(-1).*z3.*sin(theta2+( ...
  -1).*theta3+theta4))+(-2).*m5.*cos(theta2+(-1).*theta3+theta4).*sin( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5)).^2+(-1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*( ...
  Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Ixz5.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*sin(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +(-1).*cos(theta2+(-1).*theta3+theta4).*(Ixz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*Izz5.*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5).*(Ixz5.*cos(theta2+(-1).*theta3+theta4) ...
  +Ixx5.*cos(theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*sin( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta2+(-1).*theta3+ ...
  theta4).*sin(theta5).*(Iyz5.*cos(theta2+(-1).*theta3+theta4)+Ixy5.*cos( ...
  theta5).*sin(theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*sin(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+sin(theta2+(-1).*theta3+theta4).*(Izz5.* ...
  cos(theta2+(-1).*theta3+theta4)+Ixz5.*cos(theta5).*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +(-2).*m5.*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+ ...
  cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5))).*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+ ...
  (-2).*m5.*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).* ...
  sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1) ...
  .*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))).*(( ...
  -1).*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos( ...
  theta1).*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+( ...
  -1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))),(1/2).*theta2dot.*((-2).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).^2.*(L1.*sin(theta3+( ...
  -1).*theta4)+(-1).*L1.*sin(theta4))+(-2).*m4.*((-1).*COM4z+2.*L1+(-1).* ...
  z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos( ...
  theta4)).*((-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-2).* ...
  m4.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*(COM4x+(-1).*L1.* ...
  sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-2).*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*(L1.*sin(theta3+ ...
  (-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).^2+(-2).*m5.*(L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*(COM5x.*cos(theta5)+(-1).*L1.* ...
  sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).* ...
  y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5)))+ ...
  theta5dot.*((1/2).*(m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos( ...
  theta5).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+(-1).* ...
  COM5x.*m5.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5))+(1/2).*((-1).*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).* ...
  cos(theta5).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+ ...
  COM5x.*m5.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5)))+theta4dot.*((1/2).*(L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+( ...
  -1).*y3).*cos(theta5).*sin(theta3+(-1).*theta4)+(-1).*COM5x.*L1.*m5.* ...
  sin(theta3+(-1).*theta4).*sin(theta5))+(1/2).*((-1).*COM4x.*m4.*(L1.* ...
  cos(theta3+(-1).*theta4)+L1.*cos(theta4))+(-1).*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*cos(theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin( ...
  theta4))+(-1).*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*((-1) ...
  .*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*m5.*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).* ...
  sin(theta5).^2+(-1).*m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+theta3dot.* ...
  ((1/2).*(L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos(theta5).* ...
  sin(theta3+(-1).*theta4)+(-1).*COM5x.*L1.*m5.*sin(theta3+(-1).*theta4).* ...
  sin(theta5))+(1/2).*(L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).* ...
  z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos(theta4)).*sin( ...
  theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta4)+(-1).*m4.*(L1.* ...
  cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*((-1).*COM4x+(-1).*L1.*sin( ...
  theta4))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*cos(theta5) ...
  .^2.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+(-1).*m4.*( ...
  COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*((-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4))+L1.*m4.*cos(theta4).*(COM4x+(-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta4).* ...
  sin(theta5).^2+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).*(L1.* ...
  sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).^2+L1.*m5.* ...
  cos(theta4).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).*theta4)+L1.* ...
  sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.* ...
  sin(theta5)+(-1).*y3.*sin(theta5))+(-1).*m5.*(L1.*cos(theta3+(-1).* ...
  theta4)+L1.*cos(theta4)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin( ...
  theta4)+(COM5y+y1+y2+y3).*sin(theta5))))+theta1dot.*((1/2).*(Ixz5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Izz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyz5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)+ ...
  COM5x.*m5.*((-1).*(L1.*cos(theta2)+L1.*cos(theta2+(-1).*theta3)+(COM5z+( ...
  -2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+(-1) ...
  .*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*((-1).* ...
  COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(( ...
  -1).*L1.*(cos(theta2)+cos(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*L1.*(cos(theta2)+cos( ...
  theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos( ...
  theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos(theta5).*sin(theta1).* ...
  sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).* ...
  cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).* ...
  cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin( ...
  theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*( ...
  Ixy4.*cos(theta2+(-1).*theta3+theta4)+m4.*(COM4y+y1+y2+y3).*cos(theta2+( ...
  -1).*theta3+theta4).*((-1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4) ...
  )+(-1).*m4.*(COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*(COM4x+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*Iyz4.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.* ...
  L1+(-1).*z0+(-1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).* ...
  L1.*cos(theta4)).*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+ ...
  y2+y3).*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin(theta2+(-1) ...
  .*theta3+theta4)+(-1).*m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4) ...
  ).*sin(theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+(-1).*m5.*cos(theta2+(-1).*theta3+theta4).*(y4+( ...
  COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5)).*(COM5x.*cos(theta5)+( ...
  -1).*L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin( ...
  theta5)+(-1).*y1.*sin(theta5)+(-1).*y2.*sin(theta5)+(-1).*y3.*sin( ...
  theta5))+sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5))+cos(theta5).*(Ixy5.*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).* ...
  theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)) ...
  +(-1).*m5.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5).*((-1).*cos(theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).* ...
  theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+ ...
  cos(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)) ...
  .*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta3+( ...
  -1).*theta4)+L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+ ...
  y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).* ...
  sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+ ...
  y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+m5.*cos(theta5).*(L1.*sin(theta3+(-1).* ...
  theta4)+(-1).*L1.*sin(theta4)).*((-1).*(cos(theta2+(-1).*theta3+theta4) ...
  .*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(sin(theta1).*(y4+ ...
  (COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*(( ...
  -1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin( ...
  theta1).*sin(theta5)).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))),(1/2).*theta4dot.*(COM4x.*L1.*m4.* ...
  cos(theta4)+L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin( ...
  theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin( ...
  theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta4).*sin( ...
  theta5).^2+L1.*m5.*cos(theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+ ...
  y3).*sin(theta5)))+(1/2).*theta3dot.*(2.*L1.*m4.*(COM4z+(-2).*L1+z0+z2+ ...
  z3+L1.*cos(theta4)).*sin(theta4)+2.*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta4)).*cos(theta5).^2.*sin(theta4)+2.*L1.*m4.*cos(theta4).*(( ...
  -1).*COM4x+(-1).*L1.*sin(theta4))+2.*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+ ...
  z4+L1.*cos(theta4)).*sin(theta4).*sin(theta5).^2+2.*L1.*m5.*cos(theta4) ...
  .*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+y2+y3).*sin( ...
  theta5)))+theta5dot.*((1/2).*(L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+( ...
  -1).*y3).*cos(theta5).*sin(theta4)+(-1).*COM5x.*L1.*m5.*sin(theta4).* ...
  sin(theta5))+(1/2).*((-1).*L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).* ...
  y3).*cos(theta5).*sin(theta4)+COM5x.*L1.*m5.*sin(theta4).*sin(theta5)))+ ...
  theta2dot.*((1/2).*(L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).* ...
  cos(theta5).*sin(theta3+(-1).*theta4)+(-1).*COM5x.*L1.*m5.*sin(theta3+( ...
  -1).*theta4).*sin(theta5))+(1/2).*(L1.*m4.*((-1).*COM4z+2.*L1+(-1).*z0+( ...
  -1).*z2+(-1).*z3+(-1).*L1.*cos(theta3+(-1).*theta4)+(-1).*L1.*cos( ...
  theta4)).*sin(theta4)+(-1).*L1.*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos( ...
  theta3+(-1).*theta4)+L1.*cos(theta4)).*cos(theta5).^2.*sin(theta4)+(-1) ...
  .*m4.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*((-1).*COM4x+(-1) ...
  .*L1.*sin(theta4))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)).* ...
  cos(theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+( ...
  -1).*m4.*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*((-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+L1.*m4.*cos(theta4).*(COM4x+(-1).* ...
  L1.*sin(theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*L1.*m5.*(COM5z+(-2) ...
  .*L1+z0+z2+z3+z4+L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*sin( ...
  theta4).*sin(theta5).^2+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.*cos(theta4)) ...
  .*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin(theta5).^2+ ...
  L1.*m5.*cos(theta4).*(COM5x.*cos(theta5)+(-1).*L1.*sin(theta3+(-1).* ...
  theta4)+L1.*sin(theta4)+(-1).*COM5y.*sin(theta5)+(-1).*y1.*sin(theta5)+( ...
  -1).*y2.*sin(theta5)+(-1).*y3.*sin(theta5))+(-1).*m5.*(L1.*cos(theta3+( ...
  -1).*theta4)+L1.*cos(theta4)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin( ...
  theta4)+(COM5y+y1+y2+y3).*sin(theta5))))+theta1dot.*((1/2).*((-1).* ...
  Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Izz5.*sin(theta2+(-1) ...
  .*theta3+theta4)+Iyz5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)+ ...
  COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).*(COM5z+(-2) ...
  .*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos(theta5)+sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*((-1).*COM5y+( ...
  -1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(L1.*cos( ...
  theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).* ...
  theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1) ...
  .*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)) ...
  .*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.* ...
  cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos(theta5).* ...
  sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*(y4+(COM5y+ ...
  y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).*((-1).* ...
  L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+theta4) ...
  .*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1).*cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))+( ...
  1/2).*((-1).*Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*L1.*m4.*(COM4y+ ...
  y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*sin(theta4)+(-1).*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4).*((-1).*COM4x+(-1).* ...
  L1.*sin(theta4))+Iyz4.*sin(theta2+(-1).*theta3+theta4)+L1.*m4.*(COM4y+ ...
  y1+y2+y3).*cos(theta4).*sin(theta2+(-1).*theta3+theta4)+(-1).*m4.*( ...
  COM4y+y1+y2+y3).*(COM4z+(-2).*L1+z0+z2+z3+L1.*cos(theta4)).*sin(theta2+( ...
  -1).*theta3+theta4)+L1.*m5.*cos(theta4).*sin(theta2+(-1).*theta3+theta4) ...
  .*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*m5.*cos( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5)).*((-1).*COM5x.*cos(theta5)+(-1).*L1.*sin(theta4)+(COM5y+y1+ ...
  y2+y3).*sin(theta5))+(-1).*sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Ixy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*cos(theta5).*( ...
  Ixy5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin( ...
  theta2+(-1).*theta3+theta4)+(-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4) ...
  .*sin(theta5))+(-1).*L1.*m5.*sin(theta4).*sin(theta5).*((-1).*cos( ...
  theta5).*(L1.*sin(theta2)+L1.*sin(theta2+(-1).*theta3)+(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4))+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+L1.* ...
  cos(theta4)).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4+ ...
  L1.*cos(theta4)).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))+L1.*m5.*cos(theta5).*sin(theta4).*((-1) ...
  .*(cos(theta2+(-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1) ...
  .*sin(theta5)).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+(-1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))),(1/2).*theta3dot.*(COM4x.*L1.*m4.*cos(theta4)+L1.*m4.*((-1).* ...
  COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*sin(theta4)+(-1).*L1.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta5).^2.*sin(theta4)+(-1).*L1.*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta4).*sin(theta5).^2+L1.*m5.*cos( ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+ ...
  theta2dot.*((1/2).*(L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).* ...
  cos(theta5).*sin(theta3+(-1).*theta4)+(-1).*COM5x.*L1.*m5.*sin(theta3+( ...
  -1).*theta4).*sin(theta5))+(1/2).*((-1).*COM4x.*m4.*(L1.*cos(theta3+(-1) ...
  .*theta4)+L1.*cos(theta4))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos( ...
  theta5).^2.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+(-1).* ...
  m4.*((-1).*COM4z+2.*L1+(-1).*z0+(-1).*z2+(-1).*z3).*((-1).*L1.*sin( ...
  theta3+(-1).*theta4)+L1.*sin(theta4))+(-1).*m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5).^2+(-1).*m5.*(L1.*cos(theta3+(-1).*theta4)+L1.*cos(theta4)).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+theta1dot.*(( ...
  1/2).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+Izz5.* ...
  sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos(theta2+(-1).*theta3+theta4).* ...
  sin(theta5)+COM5x.*m5.*((-1).*((-1).*L1.*cos(theta2+(-1).*theta3)+(-1).* ...
  (COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)).*cos( ...
  theta5)+sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(( ...
  -1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*( ...
  L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+( ...
  -1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5) ...
  +(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).* ...
  cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin( ...
  theta5)).*(L1.*cos(theta2+(-1).*theta3)+(COM5z+(-2).*L1+z0+z2+z3+z4).* ...
  cos(theta2+(-1).*theta3+theta4)+sin(theta2+(-1).*theta3+theta4).*( ...
  COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+(-1).*cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+(-1) ...
  .*cos(theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos( ...
  theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin( ...
  theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  ))))+(1/2).*(Ixy4.*cos(theta2+(-1).*theta3+theta4)+(-1).*COM4x.*m4.*( ...
  COM4y+y1+y2+y3).*cos(theta2+(-1).*theta3+theta4)+(-1).*Iyz4.*sin(theta2+ ...
  (-1).*theta3+theta4)+(-1).*m4.*(COM4y+y1+y2+y3).*((-1).*COM4z+2.*L1+(-1) ...
  .*z0+(-1).*z2+(-1).*z3).*sin(theta2+(-1).*theta3+theta4)+(-1).*m5.*cos( ...
  theta2+(-1).*theta3+theta4).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.* ...
  sin(theta5)).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))+ ...
  sin(theta5).*(Ixx5.*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).* ...
  Ixz5.*sin(theta2+(-1).*theta3+theta4)+(-1).*Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*sin(theta5))+cos(theta5).*(Ixy5.*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*Iyz5.*sin(theta2+(-1).*theta3+theta4)+ ...
  (-1).*Iyy5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5))+(-1).*m5.*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta5).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta2+( ...
  -1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+m5.*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta5).*(cos(theta1).*(cos(theta2+(-1).*theta3+theta4).* ...
  cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).* ...
  L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).* ...
  theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)) ...
  )+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*(COM5z+(-2).*L1+z0+z2+ ...
  z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5)))+cos( ...
  theta5).*sin(theta1).*sin(theta2+(-1).*theta3+theta4).*(sin(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+(-1).*cos(theta1).* ...
  ((-1).*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+ ...
  z0+z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))+cos( ...
  theta1).*cos(theta5).*sin(theta2+(-1).*theta3+theta4).*(cos(theta1).*( ...
  y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin(theta5))+sin(theta1).*((-1) ...
  .*L1.*(sin(theta2)+sin(theta2+(-1).*theta3))+(-1).*(COM5z+(-2).*L1+z0+ ...
  z2+z3+z4).*sin(theta2+(-1).*theta3+theta4)+cos(theta2+(-1).*theta3+ ...
  theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3).*sin(theta5))))))), ...
  theta3dot.*((1/2).*(L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).* ...
  cos(theta5).*sin(theta4)+(-1).*COM5x.*L1.*m5.*sin(theta4).*sin(theta5))+ ...
  (1/2).*((-1).*L1.*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos( ...
  theta5).*sin(theta4)+COM5x.*L1.*m5.*sin(theta4).*sin(theta5)))+ ...
  theta2dot.*((1/2).*(m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*cos( ...
  theta5).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+(-1).* ...
  COM5x.*m5.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5))+(1/2).*((-1).*m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).* ...
  cos(theta5).*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4))+ ...
  COM5x.*m5.*(L1.*sin(theta3+(-1).*theta4)+(-1).*L1.*sin(theta4)).*sin( ...
  theta5)))+theta1dot.*((1/2).*((-1).*Ixz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+Izz5.*sin(theta2+(-1).*theta3+theta4)+Iyz5.*cos( ...
  theta2+(-1).*theta3+theta4).*sin(theta5)+(-1).*COM5x.*m5.*((-1).*(COM5z+ ...
  (-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos(theta5)+(-1) ...
  .*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+(-1).*m5.*(( ...
  -1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)).*(( ...
  -1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1) ...
  .*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+ ...
  y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+(-1).* ...
  theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).*sin( ...
  theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+y3) ...
  .*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))))+(1/2).*(Ixz5.*cos(theta2+(-1).*theta3+ ...
  theta4).*cos(theta5)+(-1).*Izz5.*sin(theta2+(-1).*theta3+theta4)+(-1).* ...
  Iyz5.*cos(theta2+(-1).*theta3+theta4).*sin(theta5)+COM5x.*m5.*((-1).*( ...
  COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4).*cos( ...
  theta5)+(-1).*sin(theta2+(-1).*theta3+theta4).*(COM5x+y4.*sin(theta5)))+ ...
  m5.*((-1).*COM5y+(-1).*y1+(-1).*y2+(-1).*y3).*(cos(theta1).*(cos(theta2+ ...
  (-1).*theta3+theta4).*cos(theta5).*sin(theta1)+cos(theta1).*sin(theta5)) ...
  .*((-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+( ...
  -1).*sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+ ...
  y1+y2+y3).*sin(theta5)))+(-1).*sin(theta1).*(cos(theta1).*cos(theta2+( ...
  -1).*theta3+theta4).*cos(theta5)+(-1).*sin(theta1).*sin(theta5)).*((-1) ...
  .*(COM5z+(-2).*L1+z0+z2+z3+z4).*cos(theta2+(-1).*theta3+theta4)+(-1).* ...
  sin(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*(COM5y+y1+y2+ ...
  y3).*sin(theta5)))+cos(theta5).*sin(theta1).*sin(theta2+(-1).*theta3+ ...
  theta4).*(sin(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+COM5x.*sin( ...
  theta5))+(-1).*cos(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1).* ...
  theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5))))+cos(theta1).*cos(theta5).*sin(theta2+( ...
  -1).*theta3+theta4).*(cos(theta1).*(y4+(COM5y+y1+y2+y3).*cos(theta5)+ ...
  COM5x.*sin(theta5))+sin(theta1).*((-1).*L1.*(sin(theta2)+sin(theta2+(-1) ...
  .*theta3))+(-1).*(COM5z+(-2).*L1+z0+z2+z3+z4).*sin(theta2+(-1).*theta3+ ...
  theta4)+cos(theta2+(-1).*theta3+theta4).*(COM5x.*cos(theta5)+(-1).*( ...
  COM5y+y1+y2+y3).*sin(theta5)))))))];
